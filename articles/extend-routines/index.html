<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><link href="/favicon/favicon-96x96.png" rel="icon" sizes="96x96" type="image/png"><link href="/favicon/favicon.svg" rel="icon" type="image/svg+xml"><link href="/favicon/favicon.ico" rel="shortcut icon"><link href="/favicon/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180"><meta content="shapkarin.me" name="apple-mobile-web-app-title"><link href="/favicon/site.webmanifest" rel="manifest"><meta content="width=device-width,initial-scale=1" name="viewport"><meta content="#000000" name="theme-color"><title>extend-routines: Enhanced Redux Action Management for Async Operations | Iurii Shapkarin</title><meta content="Iurii Shapkarin's personal website" name="description"><meta content="website" property="og:type"><meta content="Iurii Shapkarin | Software Developer" property="og:title"><meta content="Iurii Shapkarin's personal website" property="og:description"><meta content="https://shapkarin.me" property="og:url"><meta content="Iurii Shapkarin" name="twitter:creator"><meta content="website" name="twitter:card"><meta content="Iurii Shapkarin | Software Developer" name="twitter:title"><meta content="Iurii Shapkarin's personal website" name="twitter:description"><link href="https://fonts.googleapis.com/css?family=Lato:300" rel="stylesheet"><script type="text/javascript">!function(n){if("/"===n.search[1]){var a=n.search.slice(1).split("&").map(function(n){return n.replace(/~and~/g,"&")}).join("?");window.history.replaceState(null,null,n.pathname.slice(0,-1)+a+n.hash)}}(window.location)</script><title>Iurii Shapkarin</title><link href="https://fonts.googleapis.com" rel="preconnect"><link href="https://fonts.gstatic.com" rel="preconnect" crossorigin=""><link href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet"><script defer src="/static/js/main.e06d97d1.js"></script><link href="/static/css/main.ef050e57.css" rel="stylesheet"><link href="https://fonts.googleapis.com" rel="preconnect"><link href="https://fonts.gstatic.com" rel="preconnect"><link href="https://raw.githubusercontent.com" rel="preconnect"><link href="https://shapkarin.me/articles/extend-routines//" rel="canonical" data-react-helmet="true"><meta content="Learn how to streamline Redux async workflows with extend-routines. Create custom action routines, handle complex async states, and reduce boilerplate in Redux applications." name="description" data-react-helmet="true"><meta content="" name="keywords" data-react-helmet="true"><meta content="article" data-react-helmet="true" property="og:type"><meta content="extend-routines: Enhanced Redux Action Management for Async Operations | Iurii Shapkarin" data-react-helmet="true" property="og:title"><meta content="Learn how to streamline Redux async workflows with extend-routines. Create custom action routines, handle complex async states, and reduce boilerplate in Redux applications." data-react-helmet="true" property="og:description"><meta content="https://shapkarin.me/articles/extend-routines//" data-react-helmet="true" property="og:url"><meta content="Iurii Shapkarin" name="twitter:creator" data-react-helmet="true"><meta content="article" name="twitter:card" data-react-helmet="true"><meta content="extend-routines: Enhanced Redux Action Management for Async Operations | Iurii Shapkarin" name="twitter:title" data-react-helmet="true"><meta content="Learn how to streamline Redux async workflows with extend-routines. Create custom action routines, handle complex async states, and reduce boilerplate in Redux applications." name="twitter:description" data-react-helmet="true"><script type="application/ld+json" data-react-helmet="true">{"@context":"https://schema.org","@type":"Article","headline":"extend-routines: Enhanced Redux Action Management for Async Operations","description":"Learn how to streamline Redux async workflows with extend-routines. Create custom action routines, handle complex async states, and reduce boilerplate in Redux applications.","author":{"@type":"Person","name":"Iurii Shapkarin","alternateName":"Yury Shapkarin","url":"https://shapkarin.me"},"publisher":{"@type":"Person","name":"Iurii Shapkarin","alternateName":"Yury Shapkarin","url":"https://shapkarin.me","logo":{"@type":"ImageObject","url":"https://shapkarin.me/logo.jpg"}},"datePublished":"2024-01-01","dateModified":"2024-01-01","mainEntityOfPage":{"@type":"WebPage","@id":"https://shapkarin.me/extend-routines"},"image":{"@type":"ImageObject","url":"https://shapkarin.me/api/articles/extend-routines-0.svg","width":800,"height":600},"keywords":["Redux","extend-routines","Redux Saga","Action routines","JavaScript","Async operations","State management","Redux Toolkit","Boilerplate reduction","WebSocket actions"],"about":{"@type":"SoftwareSourceCode","name":"extend-routines","description":"A library for creating and extending Redux action routines with custom stages and enhanced async operation management","programmingLanguage":"JavaScript","codeRepository":"https://github.com/shapkarin/extend-routines","runtimePlatform":["Node.js","Web Browser"],"targetProduct":{"@type":"SoftwareApplication","name":"Redux","applicationCategory":"JavaScript Library"}},"teaches":["How to extend existing Redux routines with custom stages","Creating extended routines with default and custom stages","Building fully custom routines without default stages","Implementing socket routines for WebSocket operations","Creating multiple routines efficiently with createRoutines","Custom payload and meta creators for action routines","Advanced Redux action management patterns"],"educationalLevel":"Intermediate","learningResourceType":"Tutorial","articleSection":["Introduction to extend-routines","What Are Routines","Core APIs and Usage","Extending Existing Routines","Creating Custom Routines","Socket Routines","Advanced Techniques"],"audience":{"@type":"Audience","audienceType":"JavaScript Developers"},"mentions":[{"@type":"SoftwareApplication","name":"Redux","applicationCategory":"State Management Library","operatingSystem":"Cross-platform"},{"@type":"SoftwareApplication","name":"Redux Saga","applicationCategory":"JavaScript Library","operatingSystem":"Cross-platform"},{"@type":"SoftwareApplication","name":"Redux Toolkit","applicationCategory":"JavaScript Library","operatingSystem":"Cross-platform"}],"hasPart":[{"@type":"ImageObject","name":"Redux Routine Action Stages Flow Diagram","description":"Flowchart showing how a single routine prefix generates multiple Redux action types including TRIGGER, REQUEST, SUCCESS, FAILURE, and FULFILL stages for managing asynchronous operations","contentUrl":"https://shapkarin.me/api/articles/extend-routines-0.svg","encodingFormat":"image/svg+xml","learningResourceType":"diagram","educationalUse":["learning","presentation"],"about":{"@type":"Thing","name":"Redux Action Routine Lifecycle"}},{"@type":"SoftwareSourceCode","name":"Basic Routine Extension Example","description":"Example showing how to extend an existing routine with custom stages","programmingLanguage":"JavaScript","text":"import extendRoutine from 'extend-routines';\nimport { createRoutine } from 'redux-saga-routines';\n\nconst baseProjects = createRoutine('projects');\nconst projects = extendRoutine(baseProjects, 'TOGGLE_INFO');\n\nconsole.log(projects._STAGES);\n// [\"TRIGGER\", \"REQUEST\", \"SUCCESS\", \"FAILURE\", \"FULFILL\", \"TOGGLE_INFO\"]"},{"@type":"SoftwareSourceCode","name":"Custom Routine Creation","description":"Example showing how to create fully custom routines without default stages","programmingLanguage":"JavaScript","text":"import { createCustomRoutine } from 'extend-routines';\n\nconst steps = createCustomRoutine('steps', ['NEXT', 'PREVIOUS', 'GO_TO']);\nconsole.log(steps._STAGES);\n// [\"NEXT\", \"PREVIOUS\", \"GO_TO\"]"},{"@type":"SoftwareSourceCode","name":"Socket Routine Example","description":"Example showing how to create socket routines for WebSocket operations","programmingLanguage":"JavaScript","text":"import { createSocketRoutine } from 'extend-routines';\n\nconst chat = createSocketRoutine('chat');\nconsole.log(chat._STAGES);\n// [\"CONNECTED\", \"DISCONNECTED\", \"JOIN_CHANNEL\", \"CHANNEL_JOINED\", \"LEAVE_CHANNEL\", \"CHANNEL_LEAVED\"]"}],"isPartOf":{"@type":"Blog","name":"Shapkarin.me Technical Blog","url":"https://shapkarin.me"}}</script></head><body><noscript>You need to enable JavaScript to run this app.</noscript><div id="root"><a href="#menu" class="a11y hidden">Go to Menu</a><div class="About"><a href="/" class="About_greeting">Hello everyone!</a> My name is Iurii Shapkarin. I am a software engineer with over a decade of experience and a solid foundation in Computer Science. My work reflects a firm commitment to innovation, problem-solving, and delivering exceptional user experiences.<a href="https://www.linkedin.com/in/shapkarin" target="_blank" rel="noreferrer" class="Social_Link">LinkedIn<svg fill="none" height="1em" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" x2="21" y1="14" y2="3"></line></svg></a><a href="https://github.com/shapkarin" target="_blank" rel="noreferrer" class="Social_Link">GitHub<svg fill="none" height="1em" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" x2="21" y1="14" y2="3"></line></svg></a><span class="About_email">Get my email</span><em class="Disclaimer">Disclaimer: homepage has been gradually developed <a href="https://web.archive.org/web/20130801000000*/shapkarin.me" target="_blank" rel="noreferrer">since 2013<svg fill="none" height="1em" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" x2="21" y1="14" y2="3"></line></svg></a>with limited time | <a href="https://github.com/shapkarin/shapkarin.me" target="_blank" rel="noreferrer">cource code<svg fill="none" height="1em" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" x2="21" y1="14" y2="3"></line></svg></a></em></div><nav aria-label="Main Menu" class="Menu" id="menu" role="navigation"><ul class="Menu_List"><li class="Menu_List_Item"><a href="/" class="Menu__Item"><svg fill="currentColor" height="1em" stroke="currentColor" stroke-width="0" viewBox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M20 22H4C3.44772 22 3 21.5523 3 21V3C3 2.44772 3.44772 2 4 2H20C20.5523 2 21 2.44772 21 3V21C21 21.5523 20.5523 22 20 22ZM19 20V4H5V20H19ZM7 6H11V10H7V6ZM7 12H17V14H7V12ZM7 16H17V18H7V16ZM13 7H17V9H13V7Z"></path></svg> Articles</a></li><li class="Menu_List_Item"><a href="/github/repositories/" class="Menu__Item"><svg fill="currentColor" height="1em" stroke="currentColor" stroke-width="0" viewBox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M3 2.75A2.75 2.75 0 0 1 5.75 0h14.5a.75.75 0 0 1 .75.75v20.5a.75.75 0 0 1-.75.75h-6a.75.75 0 0 1 0-1.5h5.25v-4H6A1.5 1.5 0 0 0 4.5 18v.75c0 .716.43 1.334 1.05 1.605a.75.75 0 0 1-.6 1.374A3.251 3.251 0 0 1 3 18.75ZM19.5 1.5H5.75c-.69 0-1.25.56-1.25 1.25v12.651A2.989 2.989 0 0 1 6 15h13.5Z"></path><path d="M7 18.25a.25.25 0 0 1 .25-.25h5a.25.25 0 0 1 .25.25v5.01a.25.25 0 0 1-.397.201l-2.206-1.604a.25.25 0 0 0-.294 0L7.397 23.46a.25.25 0 0 1-.397-.2v-5.01Z"></path></svg> Repositories</a></li><li class="Menu_List_Item"><a href="/github/likes/" class="Menu__Item"><svg fill="currentColor" height="1.2em" stroke="currentColor" stroke-width="0" viewBox="0 0 24 24" width="1.2em" xmlns="http://www.w3.org/2000/svg"><path d="M12 .25a.75.75 0 0 1 .673.418l3.058 6.197 6.839.994a.75.75 0 0 1 .415 1.279l-4.948 4.823 1.168 6.811a.751.751 0 0 1-1.088.791L12 18.347l-6.117 3.216a.75.75 0 0 1-1.088-.79l1.168-6.812-4.948-4.823a.75.75 0 0 1 .416-1.28l6.838-.993L11.328.668A.75.75 0 0 1 12 .25Zm0 2.445L9.44 7.882a.75.75 0 0 1-.565.41l-5.725.832 4.143 4.038a.748.748 0 0 1 .215.664l-.978 5.702 5.121-2.692a.75.75 0 0 1 .698 0l5.12 2.692-.977-5.702a.748.748 0 0 1 .215-.664l4.143-4.038-5.725-.831a.75.75 0 0 1-.565-.41L12 2.694Z"></path></svg> Likes</a></li><li class="Menu_List_Item"><a href="/packages/" class="Menu__Item"><svg fill="currentColor" height="1.24em" stroke="currentColor" stroke-width="0" viewBox="0 0 24 24" width="1.24em" xmlns="http://www.w3.org/2000/svg"><path d="M20.001 3C20.5533 3 21.001 3.44772 21.001 4V20C21.001 20.5523 20.5533 21 20.001 21H4.00098C3.44869 21 3.00098 20.5523 3.00098 20V4C3.00098 3.44772 3.44869 3 4.00098 3H20.001ZM19.001 5H5.00098V19H19.001V5ZM17.001 7V17H14.501V9.5H12.001V17H7.00098V7H17.001Z"></path></svg> Packages</a></li><li class="Menu_List_Item"><a href="/creative/" class="Menu__Item"><svg fill="currentColor" height="1em" stroke="currentColor" stroke-width="0" viewBox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M4 2.99658H20C20.5523 2.99658 21 3.4443 21 3.99658V8.99658C21 9.54887 20.5523 9.99658 20 9.99658H4C3.44772 9.99658 3 9.54887 3 8.99658V3.99658C3 3.4443 3.44772 2.99658 4 2.99658ZM6 11.9966H12C12.5523 11.9966 13 12.4443 13 12.9966V15.9966H14V21.9966H10V15.9966H11V13.9966H5C4.44772 13.9966 4 13.5489 4 12.9966V10.9966H6V11.9966ZM17.7322 13.7288L19.5 11.961L21.2678 13.7288C22.2441 14.7051 22.2441 16.288 21.2678 17.2643C20.2915 18.2407 18.7085 18.2407 17.7322 17.2643C16.7559 16.288 16.7559 14.7051 17.7322 13.7288Z"></path></svg> Creative</a></li></ul><button class="Menu__Item Menu__Item--unselect Menu__Item--bg"><svg fill="currentColor" height="1em" stroke="currentColor" stroke-width="0" viewBox="0 0 512 512" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M433 288.8c-7.7 0-14.3 5.9-14.9 13.6-6.9 83.1-76.8 147.9-161.8 147.9-89.5 0-162.4-72.4-162.4-161.4 0-87.6 70.6-159.2 158.2-161.4 2.3-.1 4.1 1.7 4.1 4v50.3c0 12.6 13.9 20.2 24.6 13.5L377 128c10-6.3 10-20.8 0-27.1l-96.1-66.4c-10.7-6.7-24.6.9-24.6 13.5v45.7c0 2.2-1.7 4-3.9 4C148 99.8 64 184.6 64 288.9 64 394.5 150.1 480 256.3 480c100.8 0 183.4-76.7 191.6-175.1.8-8.7-6.2-16.1-14.9-16.1z"></path></svg> bg upd</button></nav><div class="Wrap"><div class="Page"><a href="/" class="CloseButton" aria-label="Back to the main page" style=""><svg fill="currentColor" height="1em" stroke="currentColor" stroke-width="0" viewBox="0 0 512 512" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M405 136.798L375.202 107 256 226.202 136.798 107 107 136.798 226.202 256 107 375.202 136.798 405 256 285.798 375.202 405 405 375.202 285.798 256z"></path></svg></a><div class="Article Page__Article Page__Inner"><a href="/" class="Article__GoBack">← All articles</a><div><p>Below is a comprehensive and detailed article about the <strong>extend-routines</strong> package. This article synthesizes all of the core information from the provided README while adding additional context, clarifications, and guidance for a broad range of Redux workflows.</p><h2 id="table-of-contents">Table of Contents</h2><ul><li><a href="#introducing-extend-routines-taking-redux-action-routines-to-the-next-level" target="_self">Introducing <code>extend-routines</code>: Taking Redux Action Routines to the Next Level</a></li><li><a href="#what-are-routines" target="_self">What Are Routines?</a></li><li><a href="#why-extend-routines" target="_self">Why <code>extend-routines</code>?</a></li><li><a href="#installation" target="_self">Installation</a></li><li><a href="#core-apis-and-their-usage" target="_self">Core APIs and Their Usage</a><ul><li><a href="#extending-an-existing-routine" target="_self">Extending an Existing Routine</a></li><li><a href="#custom-payload-and-meta-creators" target="_self">Custom Payload and Meta Creators</a></li><li><a href="#creating-extended-routines-from-scratch" target="_self">Creating Extended Routines from Scratch</a></li><li><a href="#fully-custom-routines-without-default-stages" target="_self">Fully Custom Routines Without Default Stages</a></li><li><a href="#socket-routines" target="_self">Socket Routines</a></li><li><a href="#creating-multiple-routines-at-once" target="_self">Creating Multiple Routines at Once</a></li></ul></li><li><a href="#detailed-examples" target="_self">Detailed Examples</a></li><li><a href="#advanced-techniques-and-patterns" target="_self">Advanced Techniques and Patterns</a></li><li><a href="#when-to-use-extend-routines" target="_self">When to Use <code>extend-routines</code></a></li><li><a href="#conclusion" target="_self">Conclusion</a></li></ul><hr><h1 id="introducing-extend-routines-taking-redux-action-routines-to-the-next-level">Introducing <code>extend-routines</code>: Taking Redux Action Routines to the Next Level</h1><p>Managing asynchronous actions in Redux can become tedious if you find yourself repeatedly writing out the same set of action types for every network request or async process. Typically, a single asynchronous flow might require multiple actions to represent its different states:</p><ul><li><code>prefix/TRIGGER</code>: The initial signal to start a request or process.</li><li><code>prefix/REQUEST</code>: Indicates that the async operation (e.g., API call) has started.</li><li><code>prefix/SUCCESS</code>: The operation completed successfully, and the result data is ready.</li><li><code>prefix/FAILURE</code>: The operation failed, and the error is available.</li><li><code>prefix/FULFILL</code>: A final action indicating that the entire process (success or failure) has completed, often used for cleanup or resetting loading states.</li></ul><p>The <a href="https://www.npmjs.com/package/redux-saga-routines" target="_blank">redux-saga-routines</a> library introduced the concept of a <em>routine</em>, which automatically provides these common action types from a single prefix—making asynchronous flows more consistent and easier to maintain.</p><p><strong>extend-routines</strong> builds on top of this idea, enabling you to easily add custom stages, create custom routines without the default stages, and even define specialized routines (like for sockets) or multiple routines at once. In short, it unlocks a higher level of flexibility and scalability in managing Redux action types for complex or varied async operations.</p><p><strong>Important Update:</strong> From version <strong>3.3.0</strong>, <strong>extend-routines</strong> no longer depends on <code>redux-saga</code>. This means you can use <code>extend-routines</code> in any Redux setup, including the popular <a href="https://redux-toolkit.js.org/" target="_blank">Redux Toolkit</a> or other middleware solutions. If you do still use <code>redux-saga-routines</code>, ensure you have at least <code>redux-saga-routines@3.2.0</code> installed for compatibility.</p><hr><h2 id="what-are-routines">What Are Routines?</h2><p>A routine is essentially a structured set of related action types generated from a single prefix. For example, if your routine prefix is <code>projects</code>, you’ll automatically get:</p><ul><li><code>projects/TRIGGER</code></li><li><code>projects/REQUEST</code></li><li><code>projects/SUCCESS</code></li><li><code>projects/FAILURE</code></li><li><code>projects/FULFILL</code></li></ul><p><img alt="Graph diagram" src="/api/articles/dark/extend-routines-0.svg"></p><pre><details><summary>Show Mermaid Code</summary><div style='color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo,Monaco,Consolas,"Andale Mono","Ubuntu Mono","Courier New",monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;tab-size:4;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e'><code class="language-mermaid" style='white-space:pre;color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo,Monaco,Consolas,"Andale Mono","Ubuntu Mono","Courier New",monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;tab-size:4;hyphens:none'><span class="token" style="color:#569cd6">graph</span><span> LR
</span><span>    A</span><span class="token text" style="color:#ce9178">[Routine Prefix: 'projects']</span><span> </span><span class="token" style="color:#569cd6">--></span><span> B</span><span class="token text" style="color:#ce9178">[TRIGGER]</span><span>
</span><span>    A </span><span class="token" style="color:#569cd6">--></span><span> C</span><span class="token text" style="color:#ce9178">[REQUEST]</span><span>
</span><span>    A </span><span class="token" style="color:#569cd6">--></span><span> D</span><span class="token text" style="color:#ce9178">[SUCCESS]</span><span>
</span><span>    A </span><span class="token" style="color:#569cd6">--></span><span> E</span><span class="token text" style="color:#ce9178">[FAILURE]</span><span>
</span><span>    A </span><span class="token" style="color:#569cd6">--></span><span> F</span><span class="token text" style="color:#ce9178">[FULFILL]</span><span>
</span>    
<span>    B </span><span class="token" style="color:#569cd6">--></span><span> G</span><span class="token text" style="color:#ce9178">[projects/TRIGGER]</span><span>
</span><span>    C </span><span class="token" style="color:#569cd6">--></span><span> H</span><span class="token text" style="color:#ce9178">[projects/REQUEST]</span><span>
</span><span>    D </span><span class="token" style="color:#569cd6">--></span><span> I</span><span class="token text" style="color:#ce9178">[projects/SUCCESS]</span><span>
</span><span>    E </span><span class="token" style="color:#569cd6">--></span><span> J</span><span class="token text" style="color:#ce9178">[projects/FAILURE]</span><span>
</span><span>    F </span><span class="token" style="color:#569cd6">--></span><span> K</span><span class="token text" style="color:#ce9178">[projects/FULFILL]</span></code></div></details></pre><p>This grouping lets you write cleaner code. Instead of manually defining and maintaining multiple action types for each async flow, you define them once and access them through a routine object.</p><hr><h2 id="why-extend-routines">Why <code>extend-routines</code>?</h2><p>While <code>redux-saga-routines</code> gives you the five standard async stages, sometimes you need more granularity. Maybe there’s a custom step in your data-loading process, or you need a <code>TOGGLE_INFO</code> action to show or hide details. Perhaps you’re dealing with WebSockets and need to handle <code>CONNECTED</code> and <code>DISCONNECTED</code> events elegantly.</p><p><code>extend-routines</code> allows you to:</p><ol><li><strong>Extend existing routines:</strong> Add new custom stages to any routine you already have.</li><li><strong>Create extended routines:</strong> Start with the default five stages and add your own custom stages right from the get-go.</li><li><strong>Create fully custom routines:</strong> If you don’t need the default TRIGGER/REQUEST/SUCCESS/FAILURE/FULFILL pattern, you can create routines with <em>only</em> your custom stages.</li><li><strong>Create socket routines:</strong> Predefined stages like <code>CONNECTED</code>, <code>DISCONNECTED</code>, <code>JOIN_CHANNEL</code>, <code>CHANNEL_JOINED</code>, <code>LEAVE_CHANNEL</code>, and <code>CHANNEL_LEAVED</code> come ready to use, and you can still add on top of them.</li><li><strong>Batch-create multiple routines:</strong> Use <code>createRoutines</code> to generate many routines at once, including extended or custom routines. This is perfect for large applications with many different features and API endpoints.</li></ol><p>With <code>extend-routines</code>, you have a single, powerful toolkit for all your asynchronous action needs—no matter how simple or complex.</p><hr><h2 id="installation">Installation</h2><p>Install with npm:</p><pre><h3 class="Article__CondingLang">bash:</h3><div style='color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo,Monaco,Consolas,"Andale Mono","Ubuntu Mono","Courier New",monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;tab-size:4;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e'><code class="language-bash" style='white-space:pre;color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo,Monaco,Consolas,"Andale Mono","Ubuntu Mono","Courier New",monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;tab-size:4;hyphens:none'><span class="token" style="color:#dcdcaa">npm</span><span> </span><span class="token" style="color:#dcdcaa">install</span><span> --save extend-routines</span></code></div></pre><p><em>(Originally named <code>extend-saga-routines</code>, now <code>extend-routines</code>.)</em></p><p>If you’re using <code>redux-saga-routines</code>, ensure it’s at least version <code>3.2.0</code> for full compatibility.</p><hr><h2 id="core-apis-and-their-usage">Core APIs and Their Usage</h2><p><code>extend-routines</code> provides several functions to cover different scenarios:</p><ol><li><p><strong>extendRoutine(routine, stages, payloadCreator, metaCreator)</strong></p><ul><li><strong>routine (required):</strong> The base routine you want to extend.</li><li><strong>stages (required):</strong> One or more new stages to add. Can be a single string or an array of strings.</li><li><strong>payloadCreator (optional):</strong> A function (or an object of functions keyed by stage name) to process the payload for each new stage.</li><li><strong>metaCreator (optional):</strong> A function (or an object of functions) to create meta data for each new stage.</li></ul><p>This is your go-to method when you already have a routine and need to add custom actions to it.</p></li><li><p><strong>createExtendedRoutine(typePrefix, stages, payloadCreator, metaCreator)</strong></p><ul><li><strong>typePrefix (required):</strong> The prefix for your routine’s action types.</li><li><strong>stages (required):</strong> Additional custom stages on top of TRIGGER, REQUEST, SUCCESS, FAILURE, and FULFILL.</li><li><strong>payloadCreator and metaCreator (optional):</strong> Define custom payload and meta logic.</li></ul><p>Ideal for when you want the standard five stages plus some custom ones right out of the box.</p></li><li><p><strong>createCustomRoutine(typePrefix, stages, payloadCreator, metaCreator)</strong></p><ul><li><strong>typePrefix (required):</strong> The prefix for your custom routine.</li><li><strong>stages (required):</strong> Only your custom stages, no defaults.</li></ul><p>Use this if you want full control and don’t need the default async lifecycle.</p></li><li><p><strong>createSocketRoutine(typePrefix, stages, payloadCreator, metaCreator)</strong></p><ul><li><strong>typePrefix (required):</strong> The prefix for socket-related actions.</li><li><strong>stages (optional):</strong> Extend the default socket stages (<code>CONNECTED</code>, <code>DISCONNECTED</code>, <code>JOIN_CHANNEL</code>, <code>CHANNEL_JOINED</code>, <code>LEAVE_CHANNEL</code>, <code>CHANNEL_LEAVED</code>) with your own.</li></ul><p>Perfect for WebSocket or event-based operations where you have a known set of recurring events.</p></li><li><p><strong>createRoutines(scheme, defaultRoutines)</strong></p><ul><li><strong>scheme:</strong> An object describing multiple routines at once.</li><li><strong>defaultRoutines (optional):</strong> An array or object if you just need default routines without custom logic.</li></ul><p>This function helps you handle many routines in a single, declarative step. You can define each routine’s stages, methods, and even payload/meta creators all at once.</p></li></ol><hr><h2 id="detailed-examples">Detailed Examples</h2><h3 id="extending-an-existing-routine">Extending an Existing Routine</h3><p>If you already have a routine made by <code>redux-saga-routines</code>, you can add custom stages to it:</p><pre><h3 class="Article__CondingLang">js:</h3><div style='color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo,Monaco,Consolas,"Andale Mono","Ubuntu Mono","Courier New",monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;tab-size:4;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e'><code class="language-javascript" style='white-space:pre;color:#9cdcfe;font-size:13px;text-shadow:none;font-family:Menlo,Monaco,Consolas,"Andale Mono","Ubuntu Mono","Courier New",monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;tab-size:4;hyphens:none'><span class="token" style="color:#c586c0">import</span><span> </span><span class="token">extendRoutine</span><span> </span><span class="token" style="color:#c586c0">from</span><span> </span><span class="token" style="color:#ce9178">'extend-routines'</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#c586c0">import</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span class="token"> createRoutine </span><span class="token" style="color:#d4d4d4">}</span><span> </span><span class="token" style="color:#c586c0">from</span><span> </span><span class="token" style="color:#ce9178">'redux-saga-routines'</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span></span><span class="token" style="color:#569cd6">const</span><span> baseProjects </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#dcdcaa">createRoutine</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">'projects'</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#569cd6">const</span><span> projects </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#dcdcaa">extendRoutine</span><span class="token" style="color:#d4d4d4">(</span><span>baseProjects</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#ce9178">'TOGGLE_INFO'</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span></span><span class="token" style="color:#4ec9b0">console</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">log</span><span class="token" style="color:#d4d4d4">(</span><span>projects</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">_STAGES</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#6a9955">// ["TRIGGER", "REQUEST", "SUCCESS", "FAILURE", "FULFILL", "TOGGLE_INFO"]</span><span>
</span>
<span></span><span class="token" style="color:#4ec9b0">console</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">log</span><span class="token" style="color:#d4d4d4">(</span><span>projects</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">toggleInfo</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">{</span><span> </span><span class="token literal-property" style="color:#9cdcfe">id</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#b5cea8">42</span><span> </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#6a9955">// { type: "projects/TOGGLE_INFO", payload: { id: 42 } }</span></code></div></pre><p>You can also add multiple stages at once:</p><pre><h3 class="Article__CondingLang">js:</h3><div style='color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo,Monaco,Consolas,"Andale Mono","Ubuntu Mono","Courier New",monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;tab-size:4;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e'><code class="language-javascript" style='white-space:pre;color:#9cdcfe;font-size:13px;text-shadow:none;font-family:Menlo,Monaco,Consolas,"Andale Mono","Ubuntu Mono","Courier New",monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;tab-size:4;hyphens:none'><span class="token" style="color:#569cd6">const</span><span> tab </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#dcdcaa">extendRoutine</span><span class="token" style="color:#d4d4d4">(</span><span>
</span><span>  </span><span class="token" style="color:#dcdcaa">createRoutine</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">'tab'</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>  </span><span class="token" style="color:#d4d4d4">[</span><span class="token" style="color:#ce9178">'SOME_OTHER'</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#ce9178">'CUSTOM'</span><span class="token" style="color:#d4d4d4">]</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span></code></div></pre><h3 id="custom-payload-and-meta-creators">Custom Payload and Meta Creators</h3><p>You’re not limited to just adding stages. You can define how payloads and metadata for those stages are created:</p><pre><h3 class="Article__CondingLang">js:</h3><div style='color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo,Monaco,Consolas,"Andale Mono","Ubuntu Mono","Courier New",monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;tab-size:4;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e'><code class="language-javascript" style='white-space:pre;color:#9cdcfe;font-size:13px;text-shadow:none;font-family:Menlo,Monaco,Consolas,"Andale Mono","Ubuntu Mono","Courier New",monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;tab-size:4;hyphens:none'><span class="token" style="color:#569cd6">const</span><span> withCustomPayload </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#dcdcaa">extendRoutine</span><span class="token" style="color:#d4d4d4">(</span><span>
</span><span>  </span><span class="token" style="color:#dcdcaa">createRoutine</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">'custom/payload'</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>  </span><span class="token" style="color:#ce9178">'SOME'</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>  </span><span class="token" style="color:#d4d4d4">{</span><span> </span><span class="token function-variable" style="color:#dcdcaa">some</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#9cdcfe">payload</span><span> </span><span class="token" style="color:#569cd6">=></span><span> payload </span><span class="token" style="color:#d4d4d4">*</span><span> </span><span class="token" style="color:#b5cea8">2</span><span> </span><span class="token" style="color:#d4d4d4">}</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span></span><span class="token" style="color:#4ec9b0">console</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">log</span><span class="token" style="color:#d4d4d4">(</span><span>withCustomPayload</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">some</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#b5cea8">2</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#6a9955">// { type: "custom/payload/SOME", payload: 4 }</span></code></div></pre><p>And similarly for meta:</p><pre><h3 class="Article__CondingLang">js:</h3><div style='color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo,Monaco,Consolas,"Andale Mono","Ubuntu Mono","Courier New",monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;tab-size:4;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e'><code class="language-javascript" style='white-space:pre;color:#9cdcfe;font-size:13px;text-shadow:none;font-family:Menlo,Monaco,Consolas,"Andale Mono","Ubuntu Mono","Courier New",monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;tab-size:4;hyphens:none'><span class="token" style="color:#569cd6">const</span><span> withCustomMeta </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#dcdcaa">extendRoutine</span><span class="token" style="color:#d4d4d4">(</span><span>
</span><span>  </span><span class="token" style="color:#dcdcaa">createRoutine</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">'custom/meta'</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>  </span><span class="token" style="color:#ce9178">'SOME_OTHER'</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>  </span><span class="token" style="color:#9cdcfe">payload</span><span> </span><span class="token" style="color:#569cd6">=></span><span> payload</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>  </span><span class="token" style="color:#d4d4d4">{</span><span> </span><span class="token function-variable" style="color:#dcdcaa">someOther</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569cd6">=></span><span> </span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">{</span><span> </span><span class="token literal-property" style="color:#9cdcfe">my</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">'meta'</span><span> </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#d4d4d4">}</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span></span><span class="token" style="color:#4ec9b0">console</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">log</span><span class="token" style="color:#d4d4d4">(</span><span>withCustomMeta</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">someOther</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#b5cea8">42</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#6a9955">// { type: 'custom/meta/SOME_OTHER', payload: 42, meta: { my: 'meta' } }</span></code></div></pre><h3 id="creating-extended-routines-from-scratch">Creating Extended Routines from Scratch</h3><p>If you know upfront that you want the default stages plus additional custom stages, skip extending after creation and go directly to <code>createExtendedRoutine</code>:</p><pre><h3 class="Article__CondingLang">js:</h3><div style='color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo,Monaco,Consolas,"Andale Mono","Ubuntu Mono","Courier New",monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;tab-size:4;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e'><code class="language-javascript" style='white-space:pre;color:#9cdcfe;font-size:13px;text-shadow:none;font-family:Menlo,Monaco,Consolas,"Andale Mono","Ubuntu Mono","Courier New",monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;tab-size:4;hyphens:none'><span class="token" style="color:#c586c0">import</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span class="token"> createExtendedRoutine </span><span class="token" style="color:#d4d4d4">}</span><span> </span><span class="token" style="color:#c586c0">from</span><span> </span><span class="token" style="color:#ce9178">'extend-routines'</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span></span><span class="token" style="color:#569cd6">const</span><span> projects </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#dcdcaa">createExtendedRoutine</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">'projects'</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#ce9178">'TOGGLE'</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#4ec9b0">console</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">log</span><span class="token" style="color:#d4d4d4">(</span><span>projects</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">_STAGES</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#6a9955">// ["TRIGGER", "REQUEST", "SUCCESS", "FAILURE", "FULFILL", "TOGGLE"]</span></code></div></pre><p>You can even pass an array of custom stages:</p><pre><h3 class="Article__CondingLang">js:</h3><div style='color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo,Monaco,Consolas,"Andale Mono","Ubuntu Mono","Courier New",monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;tab-size:4;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e'><code class="language-javascript" style='white-space:pre;color:#9cdcfe;font-size:13px;text-shadow:none;font-family:Menlo,Monaco,Consolas,"Andale Mono","Ubuntu Mono","Courier New",monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;tab-size:4;hyphens:none'><span class="token" style="color:#569cd6">const</span><span> other </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#dcdcaa">createExtendedRoutine</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">'other'</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#d4d4d4">[</span><span class="token" style="color:#ce9178">'OPEN'</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#ce9178">'CLOSE'</span><span class="token" style="color:#d4d4d4">]</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#4ec9b0">console</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">log</span><span class="token" style="color:#d4d4d4">(</span><span>other</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">_STAGES</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#6a9955">// ["TRIGGER", "REQUEST", "SUCCESS", "FAILURE", "FULFILL", "OPEN", "CLOSE"]</span></code></div></pre><h3 id="fully-custom-routines-without-default-stages">Fully Custom Routines Without Default Stages</h3><p>If the default TRIGGER/REQUEST/SUCCESS/FAILURE/FULFILL pattern doesn’t match your use case, use <code>createCustomRoutine</code>:</p><pre><h3 class="Article__CondingLang">js:</h3><div style='color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo,Monaco,Consolas,"Andale Mono","Ubuntu Mono","Courier New",monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;tab-size:4;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e'><code class="language-javascript" style='white-space:pre;color:#9cdcfe;font-size:13px;text-shadow:none;font-family:Menlo,Monaco,Consolas,"Andale Mono","Ubuntu Mono","Courier New",monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;tab-size:4;hyphens:none'><span class="token" style="color:#c586c0">import</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span class="token"> createCustomRoutine </span><span class="token" style="color:#d4d4d4">}</span><span> </span><span class="token" style="color:#c586c0">from</span><span> </span><span class="token" style="color:#ce9178">'extend-routines'</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span></span><span class="token" style="color:#569cd6">const</span><span> steps </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#dcdcaa">createCustomRoutine</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">'steps'</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#d4d4d4">[</span><span class="token" style="color:#ce9178">'NEXT'</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#ce9178">'PREVIOUS'</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#ce9178">'GO_TO'</span><span class="token" style="color:#d4d4d4">]</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#4ec9b0">console</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">log</span><span class="token" style="color:#d4d4d4">(</span><span>steps</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">_STAGES</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#6a9955">// ["NEXT", "PREVIOUS", "GO_TO"]</span></code></div></pre><p>This gives you maximum freedom over your action structure.</p><h3 id="socket-routines">Socket Routines</h3><p>For socket-driven apps, <code>createSocketRoutine</code> provides a specialized routine:</p><pre><h3 class="Article__CondingLang">js:</h3><div style='color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo,Monaco,Consolas,"Andale Mono","Ubuntu Mono","Courier New",monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;tab-size:4;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e'><code class="language-javascript" style='white-space:pre;color:#9cdcfe;font-size:13px;text-shadow:none;font-family:Menlo,Monaco,Consolas,"Andale Mono","Ubuntu Mono","Courier New",monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;tab-size:4;hyphens:none'><span class="token" style="color:#c586c0">import</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span class="token"> createSocketRoutine </span><span class="token" style="color:#d4d4d4">}</span><span> </span><span class="token" style="color:#c586c0">from</span><span> </span><span class="token" style="color:#ce9178">'extend-routines'</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span></span><span class="token" style="color:#569cd6">const</span><span> chat </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#dcdcaa">createSocketRoutine</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">'chat'</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#4ec9b0">console</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">log</span><span class="token" style="color:#d4d4d4">(</span><span>chat</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">_STAGES</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#6a9955">// ["CONNECTED", "DISCONNECTED", "JOIN_CHANNEL", "CHANNEL_JOINED", "LEAVE_CHANNEL", "CHANNEL_LEAVED"]</span><span>
</span><span></span><span class="token" style="color:#569cd6">const</span><span> chat </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#dcdcaa">createSocketRoutine</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">'chat-extended'</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#d4d4d4">[</span><span class="token" style="color:#ce9178">'WHY'</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#ce9178">'NOT'</span><span class="token" style="color:#d4d4d4">]</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#4ec9b0">console</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">log</span><span class="token" style="color:#d4d4d4">(</span><span>chatExtended</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">_STAGES</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#6a9955">// ["CONNECTED", "DISCONNECTED", "JOIN_CHANNEL", "CHANNEL_JOINED", "LEAVE_CHANNEL", "CHANNEL_LEAVED", "WHY", "NOT"]</span></code></div></pre><h3 id="creating-multiple-routines-at-once">Creating Multiple Routines at Once</h3><p>As your codebase grows, you might have many routines to define. <code>createRoutines</code> helps you define multiple routines in a single, structured way:</p><pre><h3 class="Article__CondingLang">js:</h3><div style='color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo,Monaco,Consolas,"Andale Mono","Ubuntu Mono","Courier New",monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;tab-size:4;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e'><code class="language-javascript" style='white-space:pre;color:#9cdcfe;font-size:13px;text-shadow:none;font-family:Menlo,Monaco,Consolas,"Andale Mono","Ubuntu Mono","Courier New",monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;tab-size:4;hyphens:none'><span class="token" style="color:#c586c0">import</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span class="token"> createRoutines </span><span class="token" style="color:#d4d4d4">}</span><span> </span><span class="token" style="color:#c586c0">from</span><span> </span><span class="token" style="color:#ce9178">'extend-routines'</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span></span><span class="token" style="color:#569cd6">const</span><span> routines </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#dcdcaa">createRoutines</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>  </span><span class="token literal-property" style="color:#9cdcfe">firstRoutine</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token null nil" style="color:#569cd6">null</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>  </span><span class="token literal-property" style="color:#9cdcfe">secondRoutine</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token null nil" style="color:#569cd6">null</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>  </span><span class="token literal-property" style="color:#9cdcfe">thirdRoutine</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">'default'</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span></span><span class="token" style="color:#4ec9b0">console</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">log</span><span class="token" style="color:#d4d4d4">(</span><span>routines</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">firstRoutine</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">_STAGES</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#6a9955">// ["TRIGGER", "REQUEST", "SUCCESS", "FAILURE", "FULFILL"]</span></code></div></pre><p>You can also define extended or custom routines, apply payload/meta creators, and handle complex configurations all from one place.</p><hr><h2 id="advanced-techniques-and-patterns">Advanced Techniques and Patterns</h2><ul><li><strong>Overriding Default Stages:</strong> You can redefine the payload creators for the default <code>TRIGGER</code>, <code>REQUEST</code>, etc., to suit your needs.</li><li><strong>Payload and Meta via <code>createRoutines</code></strong>: With <code>createRoutines</code>, you can pass arrays containing payload and meta creators, mimicking the approach used by <code>redux-actions/createActions</code>. This makes complex setup more declarative and compact.</li><li><strong>Destructuring for Simplicity:</strong> When routines are generated, they expose their stages as properties. You can destructure them in your code for cleaner usage.</li></ul><hr><h2 id="when-to-use-extend-routines">When to Use <code>extend-routines</code></h2><ul><li><strong>Complex Async Flows:</strong> If your application has multiple asynchronous steps per action, or you need additional actions beyond the standard five stages.</li><li><strong>Socket or Event-Driven Logic:</strong> When working with WebSockets or event streams, predefined socket routines save time and keep your action structure consistent.</li><li><strong>Large Codebases:</strong> <code>createRoutines</code> helps maintain consistency and reduce boilerplate when defining many routines at once.</li><li><strong>Non-Saga Environments:</strong> No need to rely on <code>redux-saga</code>. You can integrate <code>extend-routines</code> with any Redux middleware, or use it alongside <a href="https://redux-toolkit.js.org/" target="_blank">Redux Toolkit</a> for a simpler development experience.</li></ul><hr><h2 id="conclusion">Conclusion</h2><p><code>extend-routines</code> enhances the concept of routines introduced by <code>redux-saga-routines</code>. It not only streamlines the creation and management of async action sequences but also offers the flexibility to fit a wide range of use cases—from traditional HTTP requests to complex, multi-step flows and event-driven socket operations.</p><p>By reducing repetitive boilerplate and providing a highly flexible, composable API, <code>extend-routines</code> empowers developers to keep their Redux action logic clean, scalable, and easy to maintain. Whether you’re building a small feature or architecting a large-scale application, <code>extend-routines</code> can help ensure that your Redux async flows are both elegant and robust.</p><p><strong>Get started today:</strong></p><pre><h3 class="Article__CondingLang">bash:</h3><div style='color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo,Monaco,Consolas,"Andale Mono","Ubuntu Mono","Courier New",monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;tab-size:4;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e'><code class="language-bash" style='white-space:pre;color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo,Monaco,Consolas,"Andale Mono","Ubuntu Mono","Courier New",monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;tab-size:4;hyphens:none'><span class="token" style="color:#dcdcaa">npm</span><span> </span><span class="token" style="color:#dcdcaa">install</span><span> --save extend-routines</span></code></div></pre><p>Check your existing routines, customize them, and create new ones that perfectly match your application’s unique requirements—all without tying your hands to <code>redux-saga</code> or any specific middleware. With <code>extend-routines</code>, you define the rules of your action handling.</p></div></div></div></div><footer class="Footer">The API for this site <a href="https://github.com/shapkarin/shapkarin.me/tree/master/src/Generate-Backend" target="_blank" rel="noreferrer">is generated</a><svg fill="none" height="1em" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" x2="21" y1="14" y2="3"></line></svg> and stored as <a href="https://github.com/shapkarin/shapkarin.me/tree/gh-@/Pages/api" target="_blank" rel="noreferrer">JSON and Markdown</a><svg fill="none" height="1em" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" x2="21" y1="14" y2="3"></line></svg> on GitHub Pages.<br>It <a href="https://github.com/shapkarin/shapkarin.me/blob/main/.github/workflows/build-deploy.yml" target="_blank" rel="noreferrer">uses Github Actions<svg fill="none" height="1em" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" x2="21" y1="14" y2="3"></line></svg></a>to help with CI and generates a static version.</footer></div><canvas height="850" id="background" width="480"></canvas></body></html>