<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><link href="/favicon/favicon-96x96.png" rel="icon" sizes="96x96" type="image/png"><link href="/favicon/favicon.svg" rel="icon" type="image/svg+xml"><link href="/favicon/favicon.ico" rel="shortcut icon"><link href="/favicon/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180"><meta content="shapkarin.me" name="apple-mobile-web-app-title"><link href="/favicon/site.webmanifest" rel="manifest"><meta content="width=device-width,initial-scale=1" name="viewport"><meta content="#000000" name="theme-color"><title>Mastering React Performance: memo, useMemo, and useCallback Deep Dive | Yuri Shapkarin</title><meta content="Yuri Shapkarin's personal website. Experienced Software Engineer." name="description"><script type="text/javascript">!function(){"use strict";!function(){const e=window.location;let t=e.pathname;if(e.pathname.endsWith("//")&&(t=e.pathname.replace(/\/+$/,"/")||"/",console.log("Normalized double trailing slash:",t+e.search+e.hash)),t!==e.pathname){var a=document.createElement("link");a.setAttribute("rel","canonical"),a.setAttribute("href",t),document.head.appendChild(a),window.location.replace(t+e.search+e.hash)}}()}()</script><meta content="website" property="og:type"><meta content="Yuri Shapkarin | Software Developer" property="og:title"><meta content="Yuri Shapkarin's personal website" property="og:description"><meta content="https://shapkarin.me" property="og:url"><meta content="Yuri Shapkarin" name="twitter:creator"><meta content="website" name="twitter:card"><meta content="Yuri Shapkarin | Software Developer" name="twitter:title"><meta content="Yuri Shapkarin's personal website" name="twitter:description"><link href="https://fonts.googleapis.com/css?family=Lato:300" rel="stylesheet"><title>Yuri Shapkarin</title><link href="https://fonts.googleapis.com" rel="preconnect"><link href="https://fonts.gstatic.com" rel="preconnect" crossorigin=""><link href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet"><script defer src="/static/js/main.4c546719.js"></script><link href="/static/css/main.64686a64.css" rel="stylesheet"><link href="https://fonts.googleapis.com" rel="preconnect"><link href="https://fonts.gstatic.com" rel="preconnect"><link href="https://raw.githubusercontent.com" rel="preconnect"><link href="https://shapkarin.me/articles/memoization/" rel="canonical" data-react-helmet="true"><meta content="Unlock peak performance in your React applications. Learn how to effectively use React.memo, useMemo, and useCallback for optimal rendering and maintainable code." name="description" data-react-helmet="true"><meta content="" name="keywords" data-react-helmet="true"><meta content="article" data-react-helmet="true" property="og:type"><meta content="Mastering React Performance: memo, useMemo, and useCallback Deep Dive | Yuri Shapkarin" data-react-helmet="true" property="og:title"><meta content="Unlock peak performance in your React applications. Learn how to effectively use React.memo, useMemo, and useCallback for optimal rendering and maintainable code." data-react-helmet="true" property="og:description"><meta content="https://shapkarin.me/articles/memoization/" data-react-helmet="true" property="og:url"><meta content="Yuri Shapkarin" name="twitter:creator" data-react-helmet="true"><meta content="article" name="twitter:card" data-react-helmet="true"><meta content="Mastering React Performance: memo, useMemo, and useCallback Deep Dive | Yuri Shapkarin" name="twitter:title" data-react-helmet="true"><meta content="Unlock peak performance in your React applications. Learn how to effectively use React.memo, useMemo, and useCallback for optimal rendering and maintainable code." name="twitter:description" data-react-helmet="true"><script type="application/ld+json" data-react-helmet="true">[{"@context":"https://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://shapkarin.me/articles/memoization/"},"url":"https://shapkarin.me/articles/memoization/","headline":"Mastering React Performance: memo, useMemo, and useCallback Deep Dive","description":"Unlock peak performance in your React applications. Learn how to effectively use React.memo, useMemo, and useCallback for optimal rendering and maintainable code. Complete guide with examples, best practices, and advanced scenarios.","image":{"@type":"ImageObject","url":"https://shapkarin.me/logo.jpg","width":512,"height":512},"author":{"@type":"Person","name":"Yuri Shapkarin","alternateName":"Iurii Shapkarin","url":"https://shapkarin.me"},"publisher":{"@type":"Person","name":"Yuri Shapkarin","alternateName":"Iurii Shapkarin","logo":{"@type":"ImageObject","url":"https://shapkarin.me/logo.jpg","width":512,"height":512}},"datePublished":"2023-08-15","dateModified":"2024-01-20","wordCount":"3200","inLanguage":"en-US","learningResourceType":"Comprehensive tutorial","proficiencyLevel":["Intermediate","Expert"],"keywords":"React performance, React memo, useMemo, useCallback, React optimization, React hooks, memoization, React performance tuning, component optimization, Virtual DOM optimization, React best practices, frontend performance","about":[{"@type":"Thing","name":"React.memo","description":"React higher-order component for memoizing functional components"},{"@type":"Thing","name":"useMemo hook","description":"React hook for memoizing expensive calculations"},{"@type":"Thing","name":"useCallback hook","description":"React hook for memoizing function references"},{"@type":"Thing","name":"React Performance Optimization"}],"audience":[{"@type":"Audience","audienceType":"Developers","name":"Frontend Developers"},{"@type":"Audience","audienceType":"Developers","name":"Full-Stack Developers"},{"@type":"Audience","audienceType":"Developers","name":"React Developers"},{"@type":"Audience","audienceType":"Technical Leaders","name":"Software Architects"},{"@type":"Audience","audienceType":"Technical Leaders","name":"Engineering Managers"},{"@type":"Audience","audienceType":"Business Professionals","name":"Chief Technology Officers (CTOs)"},{"@type":"Audience","audienceType":"Developers","name":"Software Engineers"}],"citation":[{"@type":"WebPage","name":"React documentation - memo","@id":"https://react.dev/reference/react/memo"},{"@type":"WebPage","name":"React documentation - useMemo","@id":"https://react.dev/reference/react/useMemo"},{"@type":"WebPage","name":"React documentation - useCallback","@id":"https://react.dev/reference/react/useCallback"},{"@type":"WebPage","name":"React Performance documentation","@id":"https://react.dev/learn/render-and-commit"},{"@type":"WebPage","name":"React Hooks documentation","@id":"https://react.dev/reference/react"}],"hasPart":[{"@type":"WebPageElement","name":"Introduction: Performance Optimization with memo, useMemo, and useCallback","url":"https://shapkarin.me/articles/memoization#introduction-performance-optimization-with-memo-usememo-and-usecallback"},{"@type":"WebPageElement","name":"React.memo for Component Memoization","url":"https://shapkarin.me/articles/memoization#reactmemo-for-component-memoization"},{"@type":"WebPageElement","name":"useMemo for Expensive Calculations","url":"https://shapkarin.me/articles/memoization#usememo-for-expensive-calculations"},{"@type":"WebPageElement","name":"useCallback for Stable Function References","url":"https://shapkarin.me/articles/memoization#usecallback-for-stable-function-references"},{"@type":"WebPageElement","name":"Using These Hooks Judiciously","url":"https://shapkarin.me/articles/memoization#using-these-hooks-judiciously"},{"@type":"WebPageElement","name":"Best Practices and Common Pitfalls","url":"https://shapkarin.me/articles/memoization#best-practices-and-common-pitfalls"},{"@type":"WebPageElement","name":"Advanced Scenarios","url":"https://shapkarin.me/articles/memoization#advanced-scenarios"},{"@type":"WebPageElement","name":"Conclusion","url":"https://shapkarin.me/articles/memoization#conclusion"}],"teaches":["How to use React.memo to prevent unnecessary re-renders","When and how to implement useMemo for expensive calculations","Best practices for useCallback to stabilize function references","Common pitfalls and anti-patterns in React memoization","Advanced memoization scenarios with Context and custom hooks","Performance profiling and optimization strategies"],"programmingLanguage":"JavaScript","operatingSystem":"Cross-platform","applicationCategory":"Educational"},{"@context":"https://schema.org","@type":"ImageObject","name":"React.memo Component Memoization Diagram","description":"Diagram illustrating how React.memo prevents unnecessary re-renders by memoizing components, showing the comparison process and performance benefits","contentUrl":"https://shapkarin.me/api/articles/memoization-0.svg","encodingFormat":"image/svg+xml","learningResourceType":"diagram","educationalUse":["learning","presentation"],"about":{"@type":"Thing","name":"React Component Memoization"}},{"@context":"https://schema.org","@type":"ImageObject","name":"React useMemo Hook Optimization Flowchart","description":"Flowchart showing how useMemo caches expensive calculation results between renders, demonstrating dependency checking and performance optimization","contentUrl":"https://shapkarin.me/api/articles/memoization-1.svg","encodingFormat":"image/svg+xml","learningResourceType":"diagram","educationalUse":["learning","presentation"],"about":{"@type":"Thing","name":"React useMemo Hook"}},{"@context":"https://schema.org","relatedLink":[{"@type":"WebPage","name":"State Optimization Guide Article","url":"https://shapkarin.me/articles/state-optimization-guide","description":"Related article about state optimization in React applications"},{"@type":"WebPage","name":"New Babel Plugin React Compiler Improvements","url":"https://shapkarin.me/articles/drop-react-manual-memoization","description":"Article about new babel-plugin-react-compiler improvements that can replace manual memoization"}]},{"@context":"https://schema.org","@type":"FAQPage","mainEntity":[{"@type":"Question","name":"When should I use React.memo?","acceptedAnswer":{"@type":"Answer","text":"Use React.memo when you have a functional component that receives the same props frequently and re-renders unnecessarily. It's most effective for components that are expensive to render or are rendered many times (like list items). Don't use it for every component - profile first to identify actual performance bottlenecks."}},{"@type":"Question","name":"What's the difference between useMemo and useCallback?","acceptedAnswer":{"@type":"Answer","text":"useMemo memoizes the result of a calculation or expression, while useCallback memoizes the function itself. Use useMemo for expensive calculations that return values, and useCallback for functions that are passed as props to optimized child components to maintain stable references."}},{"@type":"Question","name":"Can memoization hurt performance?","acceptedAnswer":{"@type":"Answer","text":"Yes, unnecessary memoization can hurt performance. React needs to store memoized values and compare dependencies on each render. For simple components or calculations, the overhead of memoization might outweigh the benefits. Always profile before optimizing and focus on actual bottlenecks."}},{"@type":"Question","name":"What are the most common memoization mistakes?","acceptedAnswer":{"@type":"Answer","text":"Common mistakes include: 1) Over-memoization without profiling first, 2) Missing dependencies in dependency arrays leading to stale closures, 3) Creating new objects/arrays in render that break memoization, 4) Using memoization for trivial operations, and 5) Not understanding when dependencies actually change."}},{"@type":"Question","name":"How do I know if my memoization is working?","acceptedAnswer":{"@type":"Answer","text":"Use React Developer Tools Profiler to measure component render times and frequency. Add console.log statements in your components to track when they re-render. For memoized calculations, log when the calculation runs vs when cached values are returned. Focus on components that render frequently or take significant time."}},{"@type":"Question","name":"Should I memoize every component and function?","acceptedAnswer":{"@type":"Answer","text":"No, this is a common anti-pattern. Memoization adds overhead and complexity. Only memoize when you have identified actual performance problems through profiling. Start with a clean, simple implementation and optimize strategically based on real performance data."}}]},{"@context":"https://schema.org","@type":"HowTo","name":"How to Optimize React Performance with Memoization","description":"Step-by-step guide to using React.memo, useMemo, and useCallback for optimal React application performance","image":{"@type":"ImageObject","url":"https://shapkarin.me/logo.jpg","width":512,"height":512},"totalTime":"PT30M","estimatedCost":{"@type":"MonetaryAmount","currency":"USD","value":"0"},"supply":[{"@type":"HowToSupply","name":"React application"},{"@type":"HowToSupply","name":"React Developer Tools"}],"tool":[{"@type":"HowToTool","name":"React Developer Tools Profiler"}],"step":[{"@type":"HowToStep","name":"Profile your application","text":"Use React Developer Tools Profiler to identify components with performance issues"},{"@type":"HowToStep","name":"Apply React.memo selectively","text":"Wrap components that re-render unnecessarily with React.memo, focusing on expensive or frequently rendered components"},{"@type":"HowToStep","name":"Optimize expensive calculations","text":"Use useMemo to cache results of expensive calculations, ensuring proper dependency arrays"},{"@type":"HowToStep","name":"Stabilize function references","text":"Apply useCallback to functions passed as props to memoized components"},{"@type":"HowToStep","name":"Verify improvements","text":"Re-profile your application to confirm performance improvements and avoid over-optimization"}]}]</script></head><body><div id="root"><a href="#menu" class="a11y hidden">Go to Menu</a><div class="About"><a href="/" class="About_greeting">Hello everyone!</a> My name is Yuri Shapkarin. I am a software engineer with over a decade of experience and a solid foundation in Computer Science. My work reflects a firm commitment to innovation, problem-solving, and delivering exceptional user experiences.<a href="https://www.linkedin.com/in/shapkarin" target="_blank" rel="noreferrer" class="Social_Link">LinkedIn<svg fill="none" height="12" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" width="12" xmlns="http://www.w3.org/2000/svg" stroke-linecap="round" stroke-linejoin="round" style="margin-left:2px"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" x2="21" y1="14" y2="3"></line></svg></a><a href="https://github.com/shapkarin" target="_blank" rel="noreferrer" class="Social_Link">GitHub<svg fill="none" height="12" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" width="12" xmlns="http://www.w3.org/2000/svg" stroke-linecap="round" stroke-linejoin="round" style="margin-left:2px"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" x2="21" y1="14" y2="3"></line></svg></a><span class="About_email">Get my email</span><em class="Disclaimer">Disclaimer: homepage has been gradually developed <a href="https://web.archive.org/web/20130801000000*/shapkarin.me" target="_blank" rel="noreferrer">since 2013<svg fill="none" height="12" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" width="12" xmlns="http://www.w3.org/2000/svg" stroke-linecap="round" stroke-linejoin="round" style="margin-left:2px"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" x2="21" y1="14" y2="3"></line></svg></a>with limited time | <a href="https://github.com/shapkarin/shapkarin.me" target="_blank" rel="noreferrer">cource code<svg fill="none" height="12" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" width="12" xmlns="http://www.w3.org/2000/svg" stroke-linecap="round" stroke-linejoin="round" style="margin-left:2px"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" x2="21" y1="14" y2="3"></line></svg></a></em></div><nav aria-label="Main Menu" class="Menu" id="menu" role="navigation"><ul class="Menu_List"><li class="Menu_List_Item"><a href="/" class="Menu__Item"><svg fill="currentColor" height="1.2em" stroke="currentColor" stroke-width="0" viewBox="0 0 24 24" width="1.2em" xmlns="http://www.w3.org/2000/svg"><path d="M11.03 2.59a1.501 1.501 0 0 1 1.94 0l7.5 6.363a1.5 1.5 0 0 1 .53 1.144V19.5a1.5 1.5 0 0 1-1.5 1.5h-5.75a.75.75 0 0 1-.75-.75V14h-2v6.25a.75.75 0 0 1-.75.75H4.5A1.5 1.5 0 0 1 3 19.5v-9.403c0-.44.194-.859.53-1.144ZM12 3.734l-7.5 6.363V19.5h5v-6.25a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 .75.75v6.25h5v-9.403Z"></path></svg> Home</a></li><li class="Menu_List_Item"><a href="/articles/" class="Menu__Item"><svg fill="currentColor" height="1em" stroke="currentColor" stroke-width="0" viewBox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M20 22H4C3.44772 22 3 21.5523 3 21V3C3 2.44772 3.44772 2 4 2H20C20.5523 2 21 2.44772 21 3V21C21 21.5523 20.5523 22 20 22ZM19 20V4H5V20H19ZM7 6H11V10H7V6ZM7 12H17V14H7V12ZM7 16H17V18H7V16ZM13 7H17V9H13V7Z"></path></svg> Articles</a></li><li class="Menu_List_Item"><a href="/github/repositories/" class="Menu__Item"><svg fill="currentColor" height="1em" stroke="currentColor" stroke-width="0" viewBox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M3 2.75A2.75 2.75 0 0 1 5.75 0h14.5a.75.75 0 0 1 .75.75v20.5a.75.75 0 0 1-.75.75h-6a.75.75 0 0 1 0-1.5h5.25v-4H6A1.5 1.5 0 0 0 4.5 18v.75c0 .716.43 1.334 1.05 1.605a.75.75 0 0 1-.6 1.374A3.251 3.251 0 0 1 3 18.75ZM19.5 1.5H5.75c-.69 0-1.25.56-1.25 1.25v12.651A2.989 2.989 0 0 1 6 15h13.5Z"></path><path d="M7 18.25a.25.25 0 0 1 .25-.25h5a.25.25 0 0 1 .25.25v5.01a.25.25 0 0 1-.397.201l-2.206-1.604a.25.25 0 0 0-.294 0L7.397 23.46a.25.25 0 0 1-.397-.2v-5.01Z"></path></svg> Repositories</a></li><li class="Menu_List_Item"><a href="/github/likes/" class="Menu__Item"><svg fill="currentColor" height="1.2em" stroke="currentColor" stroke-width="0" viewBox="0 0 24 24" width="1.2em" xmlns="http://www.w3.org/2000/svg"><path d="M12 .25a.75.75 0 0 1 .673.418l3.058 6.197 6.839.994a.75.75 0 0 1 .415 1.279l-4.948 4.823 1.168 6.811a.751.751 0 0 1-1.088.791L12 18.347l-6.117 3.216a.75.75 0 0 1-1.088-.79l1.168-6.812-4.948-4.823a.75.75 0 0 1 .416-1.28l6.838-.993L11.328.668A.75.75 0 0 1 12 .25Zm0 2.445L9.44 7.882a.75.75 0 0 1-.565.41l-5.725.832 4.143 4.038a.748.748 0 0 1 .215.664l-.978 5.702 5.121-2.692a.75.75 0 0 1 .698 0l5.12 2.692-.977-5.702a.748.748 0 0 1 .215-.664l4.143-4.038-5.725-.831a.75.75 0 0 1-.565-.41L12 2.694Z"></path></svg> Likes</a></li><li class="Menu_List_Item"><a href="/packages/" class="Menu__Item"><svg fill="currentColor" height="1.24em" stroke="currentColor" stroke-width="0" viewBox="0 0 24 24" width="1.24em" xmlns="http://www.w3.org/2000/svg"><path d="M20.001 3C20.5533 3 21.001 3.44772 21.001 4V20C21.001 20.5523 20.5533 21 20.001 21H4.00098C3.44869 21 3.00098 20.5523 3.00098 20V4C3.00098 3.44772 3.44869 3 4.00098 3H20.001ZM19.001 5H5.00098V19H19.001V5ZM17.001 7V17H14.501V9.5H12.001V17H7.00098V7H17.001Z"></path></svg> Packages</a></li><li class="Menu_List_Item"><a href="/creative/" class="Menu__Item"><svg fill="currentColor" height="1em" stroke="currentColor" stroke-width="0" viewBox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M4 2.99658H20C20.5523 2.99658 21 3.4443 21 3.99658V8.99658C21 9.54887 20.5523 9.99658 20 9.99658H4C3.44772 9.99658 3 9.54887 3 8.99658V3.99658C3 3.4443 3.44772 2.99658 4 2.99658ZM6 11.9966H12C12.5523 11.9966 13 12.4443 13 12.9966V15.9966H14V21.9966H10V15.9966H11V13.9966H5C4.44772 13.9966 4 13.5489 4 12.9966V10.9966H6V11.9966ZM17.7322 13.7288L19.5 11.961L21.2678 13.7288C22.2441 14.7051 22.2441 16.288 21.2678 17.2643C20.2915 18.2407 18.7085 18.2407 17.7322 17.2643C16.7559 16.288 16.7559 14.7051 17.7322 13.7288Z"></path></svg> Creative</a></li></ul><button class="Menu__Item Menu__Item--unselect Menu__Item--bg"><svg fill="currentColor" height="1em" stroke="currentColor" stroke-width="0" viewBox="0 0 512 512" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M433 288.8c-7.7 0-14.3 5.9-14.9 13.6-6.9 83.1-76.8 147.9-161.8 147.9-89.5 0-162.4-72.4-162.4-161.4 0-87.6 70.6-159.2 158.2-161.4 2.3-.1 4.1 1.7 4.1 4v50.3c0 12.6 13.9 20.2 24.6 13.5L377 128c10-6.3 10-20.8 0-27.1l-96.1-66.4c-10.7-6.7-24.6.9-24.6 13.5v45.7c0 2.2-1.7 4-3.9 4C148 99.8 64 184.6 64 288.9 64 394.5 150.1 480 256.3 480c100.8 0 183.4-76.7 191.6-175.1.8-8.7-6.2-16.1-14.9-16.1z"></path></svg> bg upd</button></nav><div class="Wrap"><div class="Page"><a href="/" class="CloseButton" aria-label="Back to the main page" style=""><svg fill="currentColor" height="1em" stroke="currentColor" stroke-width="0" viewBox="0 0 512 512" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M405 136.798L375.202 107 256 226.202 136.798 107 107 136.798 226.202 256 107 375.202 136.798 405 256 285.798 375.202 405 405 375.202 285.798 256z"></path></svg></a><div class="Article Page__Article Page__Inner"><a href="/articles/" class="Article__GoBack">← All articles</a><div><h1 id="react-memoization-memo-usememo-and-usecallback">React Memoization: memo, useMemo, and useCallback</h1><h2 id="table-of-contents">Table of Contents</h2><ul><li><a href="#introduction-performance-optimization-with-memo-usememo-and-usecallback" target="_self">Introduction: Performance Optimization with memo, useMemo, and useCallback</a></li><li><a href="#reactmemo-for-component-memoization" target="_self"><code>React.memo</code> for Component Memoization</a></li><li><a href="#usememo-for-expensive-calculations" target="_self"><code>useMemo</code> for Expensive Calculations</a></li><li><a href="#usecallback-for-stable-function-references" target="_self"><code>useCallback</code> for Stable Function References</a></li><li><a href="#using-these-hooks-judiciously" target="_self">Using These Hooks Judiciously</a></li><li><a href="#best-practices-and-common-pitfalls" target="_self">Best Practices and Common Pitfalls</a></li><li><a href="#advanced-scenarios" target="_self">Advanced Scenarios</a></li><li><a href="#conclusion" target="_self">Conclusion</a></li></ul><h2 id="notes">Notes:</h2><ul><li>UPDs: <a href="https://react.dev/reference/react-compiler/directives/use-memo" target="_blank" rel="noreferrer">react.dev "use-memo"<svg fill="none" height="12" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" width="12" xmlns="http://www.w3.org/2000/svg" stroke-linecap="round" stroke-linejoin="round" style="margin-left:2px"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" x2="21" y1="14" y2="3"></line></svg></a></li><li>UPDs: <a href="https://react.dev/reference/eslint-plugin-react-hooks/lints/preserve-manual-memoization" target="_blank" rel="noreferrer">react.dev "preserve-manual-memoization"<svg fill="none" height="12" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" width="12" xmlns="http://www.w3.org/2000/svg" stroke-linecap="round" stroke-linejoin="round" style="margin-left:2px"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" x2="21" y1="14" y2="3"></line></svg></a></li><li>Check <a href="/articles/state-optimization-guide/">state Optimization Guide Article</a>.</li><li>It can use a lot of resources. It's not needed if input values change often.</li><li>Check article about <a href="/articles/drop-react-manual-memoization/">new babel-plugin-react-compiler improvements</a>.</li></ul><h2 id="introduction-performance-optimization-with-memo-usememo-and-usecallback">Introduction: Performance Optimization with memo, useMemo, and useCallback</h2><p>React's performance optimization features align perfectly with the principle of "Make It Easy to Change, Not Just Fast." These tools—<code>React.memo</code>, <code>useMemo</code>, and <code>useCallback</code>—help you optimize rendering performance strategically, without sacrificing code clarity and maintainability. Understanding when and how to use them is key to building high-performing and scalable React applications.</p><h3 id="react-memo-for-component-memoization">React.memo for Component Memoization</h3><p>React.memo prevents unnecessary re-renders by memoizing components, similar to how Pure Components work in class-based React:</p><p><img alt="Graph diagram" src="/api/articles/light/memoization-0.svg"></p><pre><details><summary>Show Mermaid Code</summary><div style='color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo,Monaco,Consolas,"Andale Mono","Ubuntu Mono","Courier New",monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;tab-size:4;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e'><code class="language-mermaid" style='white-space:pre;color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo,Monaco,Consolas,"Andale Mono","Ubuntu Mono","Courier New",monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;tab-size:4;hyphens:none'><span class="token" style="color:#569cd6">graph</span><span> TD
</span><span>    A</span><span class="token text" style="color:#ce9178">[Parent Re-renders]</span><span> </span><span class="token" style="color:#569cd6">--></span><span> B</span><span class="token text" style="color:#ce9178">{React.memo?}</span><span>
</span><span>    B </span><span class="token" style="color:#569cd6">--></span><span class="token label" style="color:#9cdcfe">|No|</span><span> C</span><span class="token text" style="color:#ce9178">[Child Always Re-renders]</span><span>
</span><span>    B </span><span class="token" style="color:#569cd6">--></span><span class="token label" style="color:#9cdcfe">|Yes|</span><span> D</span><span class="token text" style="color:#ce9178">{Props Changed?}</span><span>
</span><span>    D </span><span class="token" style="color:#569cd6">--></span><span class="token label" style="color:#9cdcfe">|Yes|</span><span> E</span><span class="token text" style="color:#ce9178">[Child Re-renders]</span><span>
</span><span>    D </span><span class="token" style="color:#569cd6">--></span><span class="token label" style="color:#9cdcfe">|No|</span><span> F</span><span class="token text" style="color:#ce9178">[Skip Re-render - Use Cached]</span></code></div></details></pre><pre><h3 class="Article__CondingLang">js:</h3><div style='color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo,Monaco,Consolas,"Andale Mono","Ubuntu Mono","Courier New",monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;tab-size:4;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e'><code class="language-javascript" style='white-space:pre;color:#9cdcfe;font-size:13px;text-shadow:none;font-family:Menlo,Monaco,Consolas,"Andale Mono","Ubuntu Mono","Courier New",monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;tab-size:4;hyphens:none'><span class="token" style="color:#6a9955">// Before: Component re-renders on every parent render</span><span>
</span><span></span><span class="token" style="color:#569cd6">function</span><span> </span><span class="token" style="color:#dcdcaa">ProductItem</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">{</span><span class="token" style="color:#9cdcfe"> product</span><span class="token" style="color:#d4d4d4">,</span><span class="token" style="color:#9cdcfe"> onAddToCart </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>  </span><span class="token" style="color:#4ec9b0">console</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">log</span><span class="token" style="color:#d4d4d4">(</span><span class="token template-string template-punctuation" style="color:#ce9178">`</span><span class="token template-string" style="color:#ce9178">Rendering ProductItem: </span><span class="token template-string" style="color:#569cd6">${</span><span class="token template-string" style="color:#9cdcfe">product</span><span class="token template-string" style="color:#d4d4d4">.</span><span class="token template-string property-access" style="color:#9cdcfe">name</span><span class="token template-string" style="color:#569cd6">}</span><span class="token template-string template-punctuation" style="color:#ce9178">`</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>  
<span>  </span><span class="token" style="color:#c586c0">return</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span>
</span><span>    </span><span class="token" style="color:#d4d4d4">&lt;</span><span>div className</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">"product-item"</span><span class="token" style="color:#d4d4d4">></span><span>
</span><span>      </span><span class="token" style="color:#d4d4d4">&lt;</span><span>img src</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#d4d4d4">{</span><span>product</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">image</span><span class="token" style="color:#d4d4d4">}</span><span> alt</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#d4d4d4">{</span><span>product</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">name</span><span class="token" style="color:#d4d4d4">}</span><span> </span><span class="token" style="color:#d4d4d4">/</span><span class="token" style="color:#d4d4d4">></span><span>
</span><span>      </span><span class="token" style="color:#d4d4d4">&lt;</span><span>h3</span><span class="token" style="color:#d4d4d4">></span><span class="token" style="color:#d4d4d4">{</span><span>product</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">name</span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">&lt;</span><span class="token" style="color:#d4d4d4">/</span><span>h3</span><span class="token" style="color:#d4d4d4">></span><span>
</span><span>      </span><span class="token" style="color:#d4d4d4">&lt;</span><span>p</span><span class="token" style="color:#d4d4d4">></span><span>$</span><span class="token" style="color:#d4d4d4">{</span><span>product</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">price</span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">&lt;</span><span class="token" style="color:#d4d4d4">/</span><span>p</span><span class="token" style="color:#d4d4d4">></span><span>
</span><span>      </span><span class="token" style="color:#d4d4d4">&lt;</span><span>button onClick</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#d4d4d4">{</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569cd6">=></span><span> </span><span class="token" style="color:#dcdcaa">onAddToCart</span><span class="token" style="color:#d4d4d4">(</span><span>product</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">id</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">></span><span>
</span><span>        </span><span class="token" style="color:#4ec9b0">Add</span><span> to </span><span class="token" style="color:#4ec9b0">Cart</span><span>
</span><span>      </span><span class="token" style="color:#d4d4d4">&lt;</span><span class="token" style="color:#d4d4d4">/</span><span>button</span><span class="token" style="color:#d4d4d4">></span><span>
</span><span>    </span><span class="token" style="color:#d4d4d4">&lt;</span><span class="token" style="color:#d4d4d4">/</span><span>div</span><span class="token" style="color:#d4d4d4">></span><span>
</span><span>  </span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">}</span><span>
</span>
<span></span><span class="token" style="color:#6a9955">// After: Component only re-renders when props change</span><span>
</span><span></span><span class="token" style="color:#569cd6">const</span><span> </span><span class="token" style="color:#4ec9b0">MemoizedProductItem</span><span> </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#4ec9b0">React</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">memo</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#569cd6">function</span><span> </span><span class="token" style="color:#dcdcaa">ProductItem</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">{</span><span class="token" style="color:#9cdcfe"> product</span><span class="token" style="color:#d4d4d4">,</span><span class="token" style="color:#9cdcfe"> onAddToCart </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>  </span><span class="token" style="color:#4ec9b0">console</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">log</span><span class="token" style="color:#d4d4d4">(</span><span class="token template-string template-punctuation" style="color:#ce9178">`</span><span class="token template-string" style="color:#ce9178">Rendering ProductItem: </span><span class="token template-string" style="color:#569cd6">${</span><span class="token template-string" style="color:#9cdcfe">product</span><span class="token template-string" style="color:#d4d4d4">.</span><span class="token template-string property-access" style="color:#9cdcfe">name</span><span class="token template-string" style="color:#569cd6">}</span><span class="token template-string template-punctuation" style="color:#ce9178">`</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>  
<span>  </span><span class="token" style="color:#c586c0">return</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span>
</span><span>    </span><span class="token" style="color:#d4d4d4">&lt;</span><span>div className</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">"product-item"</span><span class="token" style="color:#d4d4d4">></span><span>
</span><span>      </span><span class="token" style="color:#d4d4d4">&lt;</span><span>img src</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#d4d4d4">{</span><span>product</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">image</span><span class="token" style="color:#d4d4d4">}</span><span> alt</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#d4d4d4">{</span><span>product</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">name</span><span class="token" style="color:#d4d4d4">}</span><span> </span><span class="token" style="color:#d4d4d4">/</span><span class="token" style="color:#d4d4d4">></span><span>
</span><span>      </span><span class="token" style="color:#d4d4d4">&lt;</span><span>h3</span><span class="token" style="color:#d4d4d4">></span><span class="token" style="color:#d4d4d4">{</span><span>product</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">name</span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">&lt;</span><span class="token" style="color:#d4d4d4">/</span><span>h3</span><span class="token" style="color:#d4d4d4">></span><span>
</span><span>      </span><span class="token" style="color:#d4d4d4">&lt;</span><span>p</span><span class="token" style="color:#d4d4d4">></span><span>$</span><span class="token" style="color:#d4d4d4">{</span><span>product</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">price</span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">&lt;</span><span class="token" style="color:#d4d4d4">/</span><span>p</span><span class="token" style="color:#d4d4d4">></span><span>
</span><span>      </span><span class="token" style="color:#d4d4d4">&lt;</span><span>button onClick</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#d4d4d4">{</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569cd6">=></span><span> </span><span class="token" style="color:#dcdcaa">onAddToCart</span><span class="token" style="color:#d4d4d4">(</span><span>product</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">id</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">></span><span>
</span><span>        </span><span class="token" style="color:#4ec9b0">Add</span><span> to </span><span class="token" style="color:#4ec9b0">Cart</span><span>
</span><span>      </span><span class="token" style="color:#d4d4d4">&lt;</span><span class="token" style="color:#d4d4d4">/</span><span>button</span><span class="token" style="color:#d4d4d4">></span><span>
</span><span>    </span><span class="token" style="color:#d4d4d4">&lt;</span><span class="token" style="color:#d4d4d4">/</span><span>div</span><span class="token" style="color:#d4d4d4">></span><span>
</span><span>  </span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span></span><span class="token" style="color:#6a9955">// For more complex comparison logic, use a custom comparator</span><span>
</span><span></span><span class="token" style="color:#569cd6">const</span><span> </span><span class="token" style="color:#4ec9b0">CustomComparedProductItem</span><span> </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#4ec9b0">React</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">memo</span><span class="token" style="color:#d4d4d4">(</span><span>
</span><span>  </span><span class="token" style="color:#569cd6">function</span><span> </span><span class="token" style="color:#dcdcaa">ProductItem</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">{</span><span class="token" style="color:#9cdcfe"> product</span><span class="token" style="color:#d4d4d4">,</span><span class="token" style="color:#9cdcfe"> onAddToCart </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>    </span><span class="token" style="color:#6a9955">// Component implementation</span><span>
</span><span>  </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>  </span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#9cdcfe">prevProps</span><span class="token" style="color:#d4d4d4">,</span><span class="token" style="color:#9cdcfe"> nextProps</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569cd6">=></span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>    </span><span class="token" style="color:#6a9955">// Return true if props are equal (skip re-render)</span><span>
</span><span>    </span><span class="token" style="color:#6a9955">// Return false if props are different (do re-render)</span><span>
</span><span>    </span><span class="token" style="color:#c586c0">return</span><span> prevProps</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">product</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">id</span><span> </span><span class="token" style="color:#d4d4d4">===</span><span> nextProps</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">product</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">id</span><span> </span><span class="token" style="color:#d4d4d4">&&</span><span>
</span><span>           prevProps</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">onAddToCart</span><span> </span><span class="token" style="color:#d4d4d4">===</span><span> nextProps</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">onAddToCart</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>  </span><span class="token" style="color:#d4d4d4">}</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span></code></div></pre><h3 id="usememo-for-expensive-calculations">useMemo for Expensive Calculations</h3><p>Use <code>useMemo</code> to cache the result of expensive calculations between renders:</p><p><img alt="Flowchart diagram" src="/api/articles/light/memoization-1.svg"></p><pre><details><summary>Show Mermaid Code</summary><div style='color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo,Monaco,Consolas,"Andale Mono","Ubuntu Mono","Courier New",monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;tab-size:4;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e'><code class="language-mermaid" style='white-space:pre;color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo,Monaco,Consolas,"Andale Mono","Ubuntu Mono","Courier New",monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;tab-size:4;hyphens:none'><span class="token" style="color:#569cd6">flowchart</span><span> LR
</span><span>    A</span><span class="token text" style="color:#ce9178">[Component Renders]</span><span> </span><span class="token" style="color:#569cd6">--></span><span> B</span><span class="token text" style="color:#ce9178">{Dependencies Changed?}</span><span>
</span><span>    B </span><span class="token" style="color:#569cd6">--></span><span class="token label" style="color:#9cdcfe">|Yes|</span><span> C</span><span class="token text" style="color:#ce9178">[Recalculate Value]</span><span>
</span><span>    B </span><span class="token" style="color:#569cd6">--></span><span class="token label" style="color:#9cdcfe">|No|</span><span> D</span><span class="token text" style="color:#ce9178">[Return Cached Value]</span><span>
</span><span>    C </span><span class="token" style="color:#569cd6">--></span><span> E</span><span class="token text" style="color:#ce9178">[Store in Cache]</span><span>
</span><span>    E </span><span class="token" style="color:#569cd6">--></span><span> F</span><span class="token text" style="color:#ce9178">[Return New Value]</span><span>
</span><span>    D </span><span class="token" style="color:#569cd6">--></span><span> F</span></code></div></details></pre><pre><h3 class="Article__CondingLang">js:</h3><div style='color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo,Monaco,Consolas,"Andale Mono","Ubuntu Mono","Courier New",monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;tab-size:4;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e'><code class="language-javascript" style='white-space:pre;color:#9cdcfe;font-size:13px;text-shadow:none;font-family:Menlo,Monaco,Consolas,"Andale Mono","Ubuntu Mono","Courier New",monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;tab-size:4;hyphens:none'><span class="token" style="color:#6a9955">// Before: Expensive calculation runs on every render</span><span>
</span><span></span><span class="token" style="color:#569cd6">function</span><span> </span><span class="token" style="color:#dcdcaa">ProductFilters</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">{</span><span class="token" style="color:#9cdcfe"> products</span><span class="token" style="color:#d4d4d4">,</span><span class="token" style="color:#9cdcfe"> onFilterChange </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>  </span><span class="token" style="color:#6a9955">// This might be expensive with many products</span><span>
</span><span>  </span><span class="token" style="color:#569cd6">const</span><span> categories </span><span class="token" style="color:#d4d4d4">=</span><span> products</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">reduce</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#9cdcfe">acc</span><span class="token" style="color:#d4d4d4">,</span><span class="token" style="color:#9cdcfe"> product</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569cd6">=></span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>    </span><span class="token" style="color:#c586c0">if</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">!</span><span>acc</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">includes</span><span class="token" style="color:#d4d4d4">(</span><span>product</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">category</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>      acc</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">push</span><span class="token" style="color:#d4d4d4">(</span><span>product</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">category</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>    </span><span class="token" style="color:#d4d4d4">}</span><span>
</span><span>    </span><span class="token" style="color:#c586c0">return</span><span> acc</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>  </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#d4d4d4">[</span><span class="token" style="color:#d4d4d4">]</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>  
<span>  </span><span class="token" style="color:#c586c0">return</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span>
</span><span>    </span><span class="token" style="color:#d4d4d4">&lt;</span><span>div className</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">"filters"</span><span class="token" style="color:#d4d4d4">></span><span>
</span><span>      </span><span class="token" style="color:#d4d4d4">&lt;</span><span>h4</span><span class="token" style="color:#d4d4d4">></span><span class="token" style="color:#4ec9b0">Categories</span><span class="token" style="color:#d4d4d4">&lt;</span><span class="token" style="color:#d4d4d4">/</span><span>h4</span><span class="token" style="color:#d4d4d4">></span><span>
</span><span>      </span><span class="token" style="color:#d4d4d4">{</span><span>categories</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">map</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#9cdcfe">category</span><span> </span><span class="token" style="color:#569cd6">=></span><span> </span><span class="token" style="color:#d4d4d4">(</span><span>
</span><span>        </span><span class="token" style="color:#d4d4d4">&lt;</span><span>label key</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#d4d4d4">{</span><span>category</span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">></span><span>
</span><span>          </span><span class="token" style="color:#d4d4d4">&lt;</span><span>input
</span><span>            type</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">"checkbox"</span><span>
</span><span>            onChange</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#d4d4d4">{</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569cd6">=></span><span> </span><span class="token" style="color:#dcdcaa">onFilterChange</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">'category'</span><span class="token" style="color:#d4d4d4">,</span><span> category</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">}</span><span>
</span><span>          </span><span class="token" style="color:#d4d4d4">/</span><span class="token" style="color:#d4d4d4">></span><span>
</span><span>          </span><span class="token" style="color:#d4d4d4">{</span><span>category</span><span class="token" style="color:#d4d4d4">}</span><span>
</span><span>        </span><span class="token" style="color:#d4d4d4">&lt;</span><span class="token" style="color:#d4d4d4">/</span><span>label</span><span class="token" style="color:#d4d4d4">></span><span>
</span><span>      </span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">}</span><span>
</span><span>    </span><span class="token" style="color:#d4d4d4">&lt;</span><span class="token" style="color:#d4d4d4">/</span><span>div</span><span class="token" style="color:#d4d4d4">></span><span>
</span><span>  </span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">}</span><span>
</span>
<span></span><span class="token" style="color:#6a9955">// After: Calculation runs only when products change</span><span>
</span><span></span><span class="token" style="color:#569cd6">function</span><span> </span><span class="token" style="color:#dcdcaa">ProductFilters</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">{</span><span class="token" style="color:#9cdcfe"> products</span><span class="token" style="color:#d4d4d4">,</span><span class="token" style="color:#9cdcfe"> onFilterChange </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>  </span><span class="token" style="color:#6a9955">// Memoized calculation</span><span>
</span><span>  </span><span class="token" style="color:#569cd6">const</span><span> categories </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#dcdcaa">useMemo</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569cd6">=></span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>    </span><span class="token" style="color:#4ec9b0">console</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">log</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">'Computing categories'</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>    </span><span class="token" style="color:#c586c0">return</span><span> products</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">reduce</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#9cdcfe">acc</span><span class="token" style="color:#d4d4d4">,</span><span class="token" style="color:#9cdcfe"> product</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569cd6">=></span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>      </span><span class="token" style="color:#c586c0">if</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">!</span><span>acc</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">includes</span><span class="token" style="color:#d4d4d4">(</span><span>product</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">category</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>        acc</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">push</span><span class="token" style="color:#d4d4d4">(</span><span>product</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">category</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>      </span><span class="token" style="color:#d4d4d4">}</span><span>
</span><span>      </span><span class="token" style="color:#c586c0">return</span><span> acc</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>    </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#d4d4d4">[</span><span class="token" style="color:#d4d4d4">]</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>  </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#d4d4d4">[</span><span>products</span><span class="token" style="color:#d4d4d4">]</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span> </span><span class="token" style="color:#6a9955">// Dependency array</span><span>
</span>  
<span>  </span><span class="token" style="color:#c586c0">return</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span>
</span><span>    </span><span class="token" style="color:#d4d4d4">&lt;</span><span>div className</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">"filters"</span><span class="token" style="color:#d4d4d4">></span><span>
</span><span>      </span><span class="token" style="color:#d4d4d4">&lt;</span><span>h4</span><span class="token" style="color:#d4d4d4">></span><span class="token" style="color:#4ec9b0">Categories</span><span class="token" style="color:#d4d4d4">&lt;</span><span class="token" style="color:#d4d4d4">/</span><span>h4</span><span class="token" style="color:#d4d4d4">></span><span>
</span><span>      </span><span class="token" style="color:#d4d4d4">{</span><span>categories</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">map</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#9cdcfe">category</span><span> </span><span class="token" style="color:#569cd6">=></span><span> </span><span class="token" style="color:#d4d4d4">(</span><span>
</span><span>        </span><span class="token" style="color:#d4d4d4">&lt;</span><span>label key</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#d4d4d4">{</span><span>category</span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">></span><span>
</span><span>          </span><span class="token" style="color:#d4d4d4">&lt;</span><span>input
</span><span>            type</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">"checkbox"</span><span>
</span><span>            onChange</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#d4d4d4">{</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569cd6">=></span><span> </span><span class="token" style="color:#dcdcaa">onFilterChange</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">'category'</span><span class="token" style="color:#d4d4d4">,</span><span> category</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">}</span><span>
</span><span>          </span><span class="token" style="color:#d4d4d4">/</span><span class="token" style="color:#d4d4d4">></span><span>
</span><span>          </span><span class="token" style="color:#d4d4d4">{</span><span>category</span><span class="token" style="color:#d4d4d4">}</span><span>
</span><span>        </span><span class="token" style="color:#d4d4d4">&lt;</span><span class="token" style="color:#d4d4d4">/</span><span>label</span><span class="token" style="color:#d4d4d4">></span><span>
</span><span>      </span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">}</span><span>
</span><span>    </span><span class="token" style="color:#d4d4d4">&lt;</span><span class="token" style="color:#d4d4d4">/</span><span>div</span><span class="token" style="color:#d4d4d4">></span><span>
</span><span>  </span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">}</span></code></div></pre><h3 id="usecallback-for-stable-function-references">useCallback for Stable Function References</h3><p><code>useCallback</code> creates stable function references, preventing downstream components from re-rendering unnecessarily:</p><pre><h3 class="Article__CondingLang">js:</h3><div style='color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo,Monaco,Consolas,"Andale Mono","Ubuntu Mono","Courier New",monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;tab-size:4;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e'><code class="language-javascript" style='white-space:pre;color:#9cdcfe;font-size:13px;text-shadow:none;font-family:Menlo,Monaco,Consolas,"Andale Mono","Ubuntu Mono","Courier New",monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;tab-size:4;hyphens:none'><span class="token" style="color:#6a9955">// Before: New function created on every render</span><span>
</span><span></span><span class="token" style="color:#569cd6">function</span><span> </span><span class="token" style="color:#dcdcaa">ProductList</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">{</span><span class="token" style="color:#9cdcfe"> products </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>  </span><span class="token" style="color:#569cd6">const</span><span> </span><span class="token" style="color:#d4d4d4">[</span><span>cart</span><span class="token" style="color:#d4d4d4">,</span><span> setCart</span><span class="token" style="color:#d4d4d4">]</span><span> </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#dcdcaa">useState</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">[</span><span class="token" style="color:#d4d4d4">]</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>  
<span>  </span><span class="token" style="color:#6a9955">// This function is recreated on every render</span><span>
</span><span>  </span><span class="token" style="color:#569cd6">const</span><span> </span><span class="token function-variable" style="color:#dcdcaa">handleAddToCart</span><span> </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#9cdcfe">productId</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569cd6">=></span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>    </span><span class="token" style="color:#dcdcaa">setCart</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#9cdcfe">currentCart</span><span> </span><span class="token" style="color:#569cd6">=></span><span> </span><span class="token" style="color:#d4d4d4">[</span><span class="token spread" style="color:#d4d4d4">...</span><span>currentCart</span><span class="token" style="color:#d4d4d4">,</span><span> productId</span><span class="token" style="color:#d4d4d4">]</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>  </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>  
<span>  </span><span class="token" style="color:#c586c0">return</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span>
</span><span>    </span><span class="token" style="color:#d4d4d4">&lt;</span><span>div className</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">"product-list"</span><span class="token" style="color:#d4d4d4">></span><span>
</span><span>      </span><span class="token" style="color:#d4d4d4">{</span><span>products</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">map</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#9cdcfe">product</span><span> </span><span class="token" style="color:#569cd6">=></span><span> </span><span class="token" style="color:#d4d4d4">(</span><span>
</span><span>        </span><span class="token" style="color:#d4d4d4">&lt;</span><span class="token" style="color:#4ec9b0">MemoizedProductItem</span><span> 
</span><span>          key</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#d4d4d4">{</span><span>product</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">id</span><span class="token" style="color:#d4d4d4">}</span><span>
</span><span>          product</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#d4d4d4">{</span><span>product</span><span class="token" style="color:#d4d4d4">}</span><span>
</span><span>          onAddToCart</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#d4d4d4">{</span><span>handleAddToCart</span><span class="token" style="color:#d4d4d4">}</span><span> </span><span class="token" style="color:#6a9955">// New reference on every render</span><span>
</span><span>        </span><span class="token" style="color:#d4d4d4">/</span><span class="token" style="color:#d4d4d4">></span><span>
</span><span>      </span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">}</span><span>
</span><span>    </span><span class="token" style="color:#d4d4d4">&lt;</span><span class="token" style="color:#d4d4d4">/</span><span>div</span><span class="token" style="color:#d4d4d4">></span><span>
</span><span>  </span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">}</span><span>
</span>
<span></span><span class="token" style="color:#6a9955">// After: Stable function reference</span><span>
</span><span></span><span class="token" style="color:#569cd6">function</span><span> </span><span class="token" style="color:#dcdcaa">ProductList</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">{</span><span class="token" style="color:#9cdcfe"> products </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>  </span><span class="token" style="color:#569cd6">const</span><span> </span><span class="token" style="color:#d4d4d4">[</span><span>cart</span><span class="token" style="color:#d4d4d4">,</span><span> setCart</span><span class="token" style="color:#d4d4d4">]</span><span> </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#dcdcaa">useState</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">[</span><span class="token" style="color:#d4d4d4">]</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>  
<span>  </span><span class="token" style="color:#6a9955">// Stable function reference that only changes when dependencies change</span><span>
</span><span>  </span><span class="token" style="color:#569cd6">const</span><span> handleAddToCart </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#dcdcaa">useCallback</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#9cdcfe">productId</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569cd6">=></span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>    </span><span class="token" style="color:#dcdcaa">setCart</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#9cdcfe">currentCart</span><span> </span><span class="token" style="color:#569cd6">=></span><span> </span><span class="token" style="color:#d4d4d4">[</span><span class="token spread" style="color:#d4d4d4">...</span><span>currentCart</span><span class="token" style="color:#d4d4d4">,</span><span> productId</span><span class="token" style="color:#d4d4d4">]</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>  </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#d4d4d4">[</span><span class="token" style="color:#d4d4d4">]</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span> </span><span class="token" style="color:#6a9955">// Empty dependency array means this function never changes</span><span>
</span>  
<span>  </span><span class="token" style="color:#c586c0">return</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span>
</span><span>    </span><span class="token" style="color:#d4d4d4">&lt;</span><span>div className</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#ce9178">"product-list"</span><span class="token" style="color:#d4d4d4">></span><span>
</span><span>      </span><span class="token" style="color:#d4d4d4">{</span><span>products</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">map</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#9cdcfe">product</span><span> </span><span class="token" style="color:#569cd6">=></span><span> </span><span class="token" style="color:#d4d4d4">(</span><span>
</span><span>        </span><span class="token" style="color:#d4d4d4">&lt;</span><span class="token" style="color:#4ec9b0">MemoizedProductItem</span><span> 
</span><span>          key</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#d4d4d4">{</span><span>product</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">id</span><span class="token" style="color:#d4d4d4">}</span><span>
</span><span>          product</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#d4d4d4">{</span><span>product</span><span class="token" style="color:#d4d4d4">}</span><span>
</span><span>          onAddToCart</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#d4d4d4">{</span><span>handleAddToCart</span><span class="token" style="color:#d4d4d4">}</span><span> </span><span class="token" style="color:#6a9955">// Same reference between renders</span><span>
</span><span>        </span><span class="token" style="color:#d4d4d4">/</span><span class="token" style="color:#d4d4d4">></span><span>
</span><span>      </span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">}</span><span>
</span><span>    </span><span class="token" style="color:#d4d4d4">&lt;</span><span class="token" style="color:#d4d4d4">/</span><span>div</span><span class="token" style="color:#d4d4d4">></span><span>
</span><span>  </span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">}</span></code></div></pre><h3 id="using-these-hooks-judiciously">Using These Hooks Judiciously</h3><p>While these hooks are powerful, they should be used strategically:</p><pre><h3 class="Article__CondingLang">js:</h3><div style='color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo,Monaco,Consolas,"Andale Mono","Ubuntu Mono","Courier New",monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;tab-size:4;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e'><code class="language-javascript" style='white-space:pre;color:#9cdcfe;font-size:13px;text-shadow:none;font-family:Menlo,Monaco,Consolas,"Andale Mono","Ubuntu Mono","Courier New",monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;tab-size:4;hyphens:none'><span class="token" style="color:#6a9955">// Anti-pattern: Premature optimization</span><span>
</span><span></span><span class="token" style="color:#569cd6">function</span><span> </span><span class="token" style="color:#dcdcaa">SimpleComponent</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">{</span><span class="token" style="color:#9cdcfe"> value </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>  </span><span class="token" style="color:#6a9955">// Unnecessary for simple values or operations</span><span>
</span><span>  </span><span class="token" style="color:#569cd6">const</span><span> doubledValue </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#dcdcaa">useMemo</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569cd6">=></span><span> value </span><span class="token" style="color:#d4d4d4">*</span><span> </span><span class="token" style="color:#b5cea8">2</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#d4d4d4">[</span><span>value</span><span class="token" style="color:#d4d4d4">]</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>  
<span>  </span><span class="token" style="color:#6a9955">// Unnecessary for simple functions</span><span>
</span><span>  </span><span class="token" style="color:#569cd6">const</span><span> handleClick </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#dcdcaa">useCallback</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569cd6">=></span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>    </span><span class="token" style="color:#4ec9b0">console</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">log</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">'Clicked'</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>  </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#d4d4d4">[</span><span class="token" style="color:#d4d4d4">]</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>  
<span>  </span><span class="token" style="color:#c586c0">return</span><span> </span><span class="token" style="color:#d4d4d4">&lt;</span><span>div onClick</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#d4d4d4">{</span><span>handleClick</span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">></span><span class="token" style="color:#d4d4d4">{</span><span>doubledValue</span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">&lt;</span><span class="token" style="color:#d4d4d4">/</span><span>div</span><span class="token" style="color:#d4d4d4">></span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">}</span><span>
</span>
<span></span><span class="token" style="color:#6a9955">// Better approach: Use optimization where it matters</span><span>
</span><span></span><span class="token" style="color:#569cd6">function</span><span> </span><span class="token" style="color:#dcdcaa">ComplexComponent</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">{</span><span class="token" style="color:#9cdcfe"> products</span><span class="token" style="color:#d4d4d4">,</span><span class="token" style="color:#9cdcfe"> filters</span><span class="token" style="color:#d4d4d4">,</span><span class="token" style="color:#9cdcfe"> onSave </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>  </span><span class="token" style="color:#6a9955">// Worth memoizing: expensive filtering operation</span><span>
</span><span>  </span><span class="token" style="color:#569cd6">const</span><span> filteredProducts </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#dcdcaa">useMemo</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569cd6">=></span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>    </span><span class="token" style="color:#c586c0">return</span><span> products</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">filter</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#9cdcfe">product</span><span> </span><span class="token" style="color:#569cd6">=></span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>      </span><span class="token" style="color:#6a9955">// Complex filtering logic</span><span>
</span><span>      </span><span class="token" style="color:#c586c0">return</span><span> filters</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">categories</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">includes</span><span class="token" style="color:#d4d4d4">(</span><span>product</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">category</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#d4d4d4">&&</span><span>
</span><span>             product</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">price</span><span> </span><span class="token" style="color:#d4d4d4">>=</span><span> filters</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">minPrice</span><span> </span><span class="token" style="color:#d4d4d4">&&</span><span>
</span><span>             product</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">price</span><span> </span><span class="token" style="color:#d4d4d4">&lt;=</span><span> filters</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">maxPrice</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>    </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>  </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#d4d4d4">[</span><span>products</span><span class="token" style="color:#d4d4d4">,</span><span> filters</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">categories</span><span class="token" style="color:#d4d4d4">,</span><span> filters</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">minPrice</span><span class="token" style="color:#d4d4d4">,</span><span> filters</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">maxPrice</span><span class="token" style="color:#d4d4d4">]</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>  
<span>  </span><span class="token" style="color:#6a9955">// Worth stabilizing: passed to optimized child components</span><span>
</span><span>  </span><span class="token" style="color:#569cd6">const</span><span> handleSave </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#dcdcaa">useCallback</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#9cdcfe">id</span><span class="token" style="color:#d4d4d4">,</span><span class="token" style="color:#9cdcfe"> data</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569cd6">=></span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>    </span><span class="token" style="color:#dcdcaa">onSave</span><span class="token" style="color:#d4d4d4">(</span><span>id</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span> </span><span class="token spread" style="color:#d4d4d4">...</span><span>data</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token literal-property" style="color:#9cdcfe">timestamp</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token known-class-name" style="color:#4ec9b0">Date</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">now</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>  </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#d4d4d4">[</span><span>onSave</span><span class="token" style="color:#d4d4d4">]</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>  
<span>  </span><span class="token" style="color:#c586c0">return</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span>
</span><span>    </span><span class="token" style="color:#d4d4d4">&lt;</span><span>div</span><span class="token" style="color:#d4d4d4">></span><span>
</span><span>      </span><span class="token" style="color:#d4d4d4">{</span><span>filteredProducts</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">map</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#9cdcfe">product</span><span> </span><span class="token" style="color:#569cd6">=></span><span> </span><span class="token" style="color:#d4d4d4">(</span><span>
</span><span>        </span><span class="token" style="color:#d4d4d4">&lt;</span><span class="token" style="color:#4ec9b0">MemoizedProductEditor</span><span>
</span><span>          key</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#d4d4d4">{</span><span>product</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">id</span><span class="token" style="color:#d4d4d4">}</span><span>
</span><span>          product</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#d4d4d4">{</span><span>product</span><span class="token" style="color:#d4d4d4">}</span><span>
</span><span>          onSave</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#d4d4d4">{</span><span>handleSave</span><span class="token" style="color:#d4d4d4">}</span><span>
</span><span>        </span><span class="token" style="color:#d4d4d4">/</span><span class="token" style="color:#d4d4d4">></span><span>
</span><span>      </span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">}</span><span>
</span><span>    </span><span class="token" style="color:#d4d4d4">&lt;</span><span class="token" style="color:#d4d4d4">/</span><span>div</span><span class="token" style="color:#d4d4d4">></span><span>
</span><span>  </span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">}</span></code></div></pre><p>These optimization hooks represent a perfect example of balancing performance and maintainability. They allow you to optimize specific parts of your application without compromising its overall design or readability. Remember that premature optimization is a pitfall—use these hooks when profiling indicates a performance issue, not by default everywhere.</p><p>These real-world examples from successful React applications demonstrate that good design is not about blindly following rules, but about applying principles pragmatically to solve specific problems. The key is finding the right balance between simplicity and abstraction, always prioritizing code that is easy to understand, test, and maintain.</p><h3 id="best-practices-and-common-pitfalls">Best Practices and Common Pitfalls</h3><p>Effectively using React's memoization hooks requires understanding some best practices and common pitfalls:</p><ol><li><strong>Profile First, Optimize Later</strong>: Don't sprinkle <code>useMemo</code>, <code>useCallback</code>, and <code>React.memo</code> everywhere. Use React Developer Tools Profiler or other performance tools to identify components that re-render often and cause performance issues. Focus your optimization efforts there.</li><li><strong>Understand Dependency Arrays</strong>:<ul><li><code>useMemo</code> and <code>useCallback</code> rely on their dependency arrays. If you omit a dependency, your memoized value or callback might become stale, leading to bugs.</li><li>If you pass an empty array (<code>[]</code>), the memoized value/callback is created once and never updated, which is often what you want for stable functions but can be incorrect for values that depend on props or state.</li><li>Ensure all variables from the outer scope that are used inside the memoized function or calculation are included in the dependency array. ESLint plugins like <code>eslint-plugin-react-hooks</code> can help enforce this (<code>exhaustive-deps</code> rule).</li></ul></li><li><strong>The Cost of Memoization</strong>: These hooks are not free. React needs to store the memoized value and compare dependencies on each render. For very simple components or calculations, the overhead of memoization might outweigh the benefits.</li><li><strong>Over-memoization Anti-pattern</strong>: Applying memoization to every single component and function can make the codebase harder to read and maintain, and might not yield noticeable performance improvements if those parts were not bottlenecks.</li><li><strong>Memoizing Props for Child Components</strong>:<ul><li>When passing objects or arrays as props to a memoized child component, ensure these props are stable. If you create a new object/array literal on each parent render (e.g., <code>&lt;Child data={{ foo: 'bar' }} /></code>), <code>React.memo</code>'s default shallow comparison will see it as a new prop, and the child will re-render.</li><li>Use <code>useMemo</code> in the parent to memoize object/array props, or <code>useCallback</code> for function props passed to memoized children.</li></ul><pre><h3 class="Article__CondingLang">js:</h3><div style='color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo,Monaco,Consolas,"Andale Mono","Ubuntu Mono","Courier New",monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;tab-size:4;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e'><code class="language-javascript" style='white-space:pre;color:#9cdcfe;font-size:13px;text-shadow:none;font-family:Menlo,Monaco,Consolas,"Andale Mono","Ubuntu Mono","Courier New",monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;tab-size:4;hyphens:none'><span class="token" style="color:#569cd6">function</span><span> </span><span class="token" style="color:#dcdcaa">Parent</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">{</span><span class="token" style="color:#9cdcfe"> </span><span class="token" style="color:#9cdcfe">A</span><span class="token" style="color:#d4d4d4">,</span><span class="token" style="color:#9cdcfe"> </span><span class="token" style="color:#9cdcfe">B</span><span class="token" style="color:#9cdcfe"> </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>  </span><span class="token" style="color:#6a9955">// BAD: new object on every render, breaks Child's memoization</span><span>
</span><span>  </span><span class="token" style="color:#6a9955">// const data = { A, B }; </span><span>
</span>
<span>  </span><span class="token" style="color:#6a9955">// GOOD: object is memoized and stable as long as A & B don't change</span><span>
</span><span>  </span><span class="token" style="color:#569cd6">const</span><span> data </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#dcdcaa">useMemo</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569cd6">=></span><span> </span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">{</span><span> </span><span class="token" style="color:#9cdcfe">A</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#9cdcfe">B</span><span> </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#d4d4d4">[</span><span class="token" style="color:#9cdcfe">A</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#9cdcfe">B</span><span class="token" style="color:#d4d4d4">]</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>  
<span>  </span><span class="token" style="color:#c586c0">return</span><span> </span><span class="token" style="color:#d4d4d4">&lt;</span><span class="token" style="color:#4ec9b0">MemoizedChild</span><span> data</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#d4d4d4">{</span><span>data</span><span class="token" style="color:#d4d4d4">}</span><span> </span><span class="token" style="color:#d4d4d4">/</span><span class="token" style="color:#d4d4d4">></span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">}</span></code></div></pre></li><li><strong><code>React.memo</code> with Custom Comparison</strong>: If shallow comparison isn't sufficient for <code>React.memo</code> (e.g., props are complex objects and you need a deep comparison), you can provide a custom comparison function as the second argument. Use this cautiously as deep comparisons can be expensive.</li></ol><h3 id="advanced-scenarios">Advanced Scenarios</h3><p>Beyond basic usage, these hooks can be applied in more complex situations:</p><ol><li><strong><code>useMemo</code> for Complex Object/Array Transformations</strong>: When you need to derive a complex data structure from props or state and this derivation is costly (e.g., transforming a large list, creating a lookup table), <code>useMemo</code> is invaluable.<pre><h3 class="Article__CondingLang">js:</h3><div style='color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo,Monaco,Consolas,"Andale Mono","Ubuntu Mono","Courier New",monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;tab-size:4;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e'><code class="language-javascript" style='white-space:pre;color:#9cdcfe;font-size:13px;text-shadow:none;font-family:Menlo,Monaco,Consolas,"Andale Mono","Ubuntu Mono","Courier New",monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;tab-size:4;hyphens:none'><span class="token" style="color:#569cd6">function</span><span> </span><span class="token" style="color:#dcdcaa">UserDashboard</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">{</span><span class="token" style="color:#9cdcfe"> rawUserData </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>  </span><span class="token" style="color:#569cd6">const</span><span> processedData </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#dcdcaa">useMemo</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569cd6">=></span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>    </span><span class="token" style="color:#4ec9b0">console</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">log</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">'Processing user data...'</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>    </span><span class="token" style="color:#6a9955">// Imagine complex transformations, aggregations, sorting here</span><span>
</span><span>    </span><span class="token" style="color:#c586c0">return</span><span> rawUserData</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">map</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#9cdcfe">user</span><span> </span><span class="token" style="color:#569cd6">=></span><span> </span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">{</span><span> </span><span class="token spread" style="color:#d4d4d4">...</span><span>user</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token literal-property" style="color:#9cdcfe">isActive</span><span class="token" style="color:#d4d4d4">:</span><span> user</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">logins</span><span> </span><span class="token" style="color:#d4d4d4">></span><span> </span><span class="token" style="color:#b5cea8">0</span><span> </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">)</span><span>
</span><span>                      </span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">sort</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#9cdcfe">a</span><span class="token" style="color:#d4d4d4">,</span><span class="token" style="color:#9cdcfe"> b</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569cd6">=></span><span> b</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">logins</span><span> </span><span class="token" style="color:#d4d4d4">-</span><span> a</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">logins</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>  </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#d4d4d4">[</span><span>rawUserData</span><span class="token" style="color:#d4d4d4">]</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span>  </span><span class="token" style="color:#c586c0">return</span><span> </span><span class="token" style="color:#d4d4d4">&lt;</span><span class="token" style="color:#4ec9b0">UserTable</span><span> data</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#d4d4d4">{</span><span>processedData</span><span class="token" style="color:#d4d4d4">}</span><span> </span><span class="token" style="color:#d4d4d4">/</span><span class="token" style="color:#d4d4d4">></span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">}</span></code></div></pre></li><li><strong><code>useCallback</code> with Event Handlers and Custom Hooks</strong>:<ul><li>When creating custom hooks that return functions, wrap those functions in <code>useCallback</code> to ensure consumers of the hook receive stable function references. This prevents unnecessary re-renders in components using the hook.</li><li>For event handlers that depend on props or state but are passed to many children or used in <code>useEffect</code> dependencies, <code>useCallback</code> is essential.</li></ul><pre><h3 class="Article__CondingLang">js:</h3><div style='color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo,Monaco,Consolas,"Andale Mono","Ubuntu Mono","Courier New",monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;tab-size:4;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e'><code class="language-javascript" style='white-space:pre;color:#9cdcfe;font-size:13px;text-shadow:none;font-family:Menlo,Monaco,Consolas,"Andale Mono","Ubuntu Mono","Courier New",monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;tab-size:4;hyphens:none'><span class="token" style="color:#569cd6">function</span><span> </span><span class="token" style="color:#dcdcaa">useDebouncedEffect</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#9cdcfe">callback</span><span class="token" style="color:#d4d4d4">,</span><span class="token" style="color:#9cdcfe"> delay</span><span class="token" style="color:#d4d4d4">,</span><span class="token" style="color:#9cdcfe"> deps</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>  </span><span class="token" style="color:#569cd6">const</span><span> debouncedCallback </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#dcdcaa">useCallback</span><span class="token" style="color:#d4d4d4">(</span><span>
</span><span>    </span><span class="token" style="color:#d4d4d4">(</span><span class="token spread" style="color:#d4d4d4">...</span><span class="token" style="color:#9cdcfe">args</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569cd6">=></span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>      </span><span class="token" style="color:#6a9955">// Simplified debounce logic</span><span>
</span><span>      </span><span class="token" style="color:#569cd6">const</span><span> handler </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#dcdcaa">setTimeout</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569cd6">=></span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>        </span><span class="token" style="color:#dcdcaa">callback</span><span class="token" style="color:#d4d4d4">(</span><span class="token spread" style="color:#d4d4d4">...</span><span>args</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>      </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span> delay</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>      </span><span class="token" style="color:#c586c0">return</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569cd6">=></span><span> </span><span class="token" style="color:#dcdcaa">clearTimeout</span><span class="token" style="color:#d4d4d4">(</span><span>handler</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>    </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>    </span><span class="token" style="color:#d4d4d4">[</span><span>callback</span><span class="token" style="color:#d4d4d4">,</span><span> delay</span><span class="token" style="color:#d4d4d4">]</span><span> </span><span class="token" style="color:#6a9955">// 'callback' itself should be stable or listed as a dep</span><span>
</span><span>  </span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>  </span><span class="token" style="color:#6a9955">// ...</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">}</span></code></div></pre></li><li><strong>Interaction with React Context</strong>:<ul><li>When a component consumes a context, it will re-render whenever the context value changes. If the context value is an object or array created inline in the Provider, it will be a new reference on every render, causing all consumers to re-render.</li><li>Memoize the context value using <code>useMemo</code> in the Provider component to prevent unnecessary re-renders of consumer components.</li></ul><pre><h3 class="Article__CondingLang">js:</h3><div style='color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo,Monaco,Consolas,"Andale Mono","Ubuntu Mono","Courier New",monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;tab-size:4;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e'><code class="language-javascript" style='white-space:pre;color:#9cdcfe;font-size:13px;text-shadow:none;font-family:Menlo,Monaco,Consolas,"Andale Mono","Ubuntu Mono","Courier New",monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;tab-size:4;hyphens:none'><span class="token" style="color:#569cd6">const</span><span> </span><span class="token" style="color:#4ec9b0">MyContext</span><span> </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#4ec9b0">React</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">createContext</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span></span><span class="token" style="color:#569cd6">function</span><span> </span><span class="token" style="color:#dcdcaa">MyContextProvider</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">{</span><span class="token" style="color:#9cdcfe"> children</span><span class="token" style="color:#d4d4d4">,</span><span class="token" style="color:#9cdcfe"> userId </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>  </span><span class="token" style="color:#569cd6">const</span><span> </span><span class="token" style="color:#d4d4d4">[</span><span>userData</span><span class="token" style="color:#d4d4d4">,</span><span> setUserData</span><span class="token" style="color:#d4d4d4">]</span><span> </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#dcdcaa">useState</span><span class="token" style="color:#d4d4d4">(</span><span class="token null nil" style="color:#569cd6">null</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span>  </span><span class="token" style="color:#6a9955">// Fetch user data based on userId...</span><span>
</span>
<span>  </span><span class="token" style="color:#6a9955">// GOOD: Memoize the context value</span><span>
</span><span>  </span><span class="token" style="color:#569cd6">const</span><span> contextValue </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#dcdcaa">useMemo</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569cd6">=></span><span> </span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>    </span><span class="token literal-property" style="color:#9cdcfe">user</span><span class="token" style="color:#d4d4d4">:</span><span> userData</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>    </span><span class="token function-variable" style="color:#dcdcaa">updateUser</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#9cdcfe">newData</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569cd6">=></span><span> </span><span class="token" style="color:#dcdcaa">setUserData</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#9cdcfe">prev</span><span> </span><span class="token" style="color:#569cd6">=></span><span> </span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">{</span><span> </span><span class="token spread" style="color:#d4d4d4">...</span><span>prev</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token spread" style="color:#d4d4d4">...</span><span>newData </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>  </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#d4d4d4">[</span><span>userData</span><span class="token" style="color:#d4d4d4">]</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span> </span><span class="token" style="color:#6a9955">// updateUser can be further memoized with useCallback if complex</span><span>
</span>
<span>  </span><span class="token" style="color:#c586c0">return</span><span> </span><span class="token" style="color:#d4d4d4">&lt;</span><span class="token" style="color:#4ec9b0">MyContext</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access" style="color:#4ec9b0">Provider</span><span> value</span><span class="token" style="color:#d4d4d4">=</span><span class="token" style="color:#d4d4d4">{</span><span>contextValue</span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">></span><span class="token" style="color:#d4d4d4">{</span><span>children</span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">&lt;</span><span class="token" style="color:#d4d4d4">/</span><span class="token" style="color:#4ec9b0">MyContext</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access" style="color:#4ec9b0">Provider</span><span class="token" style="color:#d4d4d4">></span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">}</span></code></div></pre></li></ol><h3 id="conclusion">Conclusion</h3><p><code>React.memo</code>, <code>useMemo</code>, and <code>useCallback</code> are powerful tools in a React developer's arsenal for fine-tuning application performance. They allow for surgical optimizations by preventing unnecessary re-renders and re-computations, directly impacting the user experience, especially in complex applications.</p><p>However, their power comes with the responsibility of judicious use. The core principle remains: <strong>profile first</strong>. Identify actual performance bottlenecks before reaching for these hooks. Premature or indiscriminate optimization can lead to code that is harder to understand and maintain, potentially without yielding significant performance benefits.</p><p>By understanding their purpose, how their dependency arrays work, and common pitfalls like over-memoization or unstable props, you can leverage these hooks effectively. Strive for a balance where optimizations are applied thoughtfully to critical paths, ensuring your React applications are not only fast but also remain clean, maintainable, and easy to evolve. These real-world examples and best practices demonstrate that good design is not about blindly following rules, but about applying principles pragmatically to solve specific problems, always prioritizing code that is easy to understand, test, and scale. These real-world examples from successful React applications demonstrate that good design is not about blindly following rules, but about applying principles pragmatically to solve specific problems. The key is finding the right balance between simplicity and abstraction, always prioritizing code that is easy to understand, test, and maintain.</p></div></div></div></div><footer class="Footer">The API for this site <a href="https://github.com/shapkarin/shapkarin.me/tree/master/src/Generate-Backend" target="_blank" rel="noreferrer">is generated<svg fill="none" height="12" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" width="12" xmlns="http://www.w3.org/2000/svg" stroke-linecap="round" stroke-linejoin="round" style="margin-left:2px"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" x2="21" y1="14" y2="3"></line></svg></a>and stored as <a href="https://github.com/shapkarin/shapkarin.me/tree/gh-pages/api" target="_blank" rel="noreferrer">JSON and Markdown<svg fill="none" height="12" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" width="12" xmlns="http://www.w3.org/2000/svg" stroke-linecap="round" stroke-linejoin="round" style="margin-left:2px"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" x2="21" y1="14" y2="3"></line></svg></a>on GitHub Pages.<br>It <a href="https://github.com/shapkarin/shapkarin.me/blob/main/.github/workflows/build-deploy.yml" target="_blank" rel="noreferrer">uses Github Actions<svg fill="none" height="12" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" width="12" xmlns="http://www.w3.org/2000/svg" stroke-linecap="round" stroke-linejoin="round" style="margin-left:2px"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" x2="21" y1="14" y2="3"></line></svg></a>to help with CI and generates a static version.</footer></div><canvas height="850" id="background" width="480"></canvas></body></html>