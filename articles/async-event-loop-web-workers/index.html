<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><link href="/favicon/favicon-96x96.png" rel="icon" sizes="96x96" type="image/png"><link href="/favicon/favicon.svg" rel="icon" type="image/svg+xml"><link href="/favicon/favicon.ico" rel="shortcut icon"><link href="/favicon/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180"><meta content="shapkarin.me" name="apple-mobile-web-app-title"><link href="/favicon/site.webmanifest" rel="manifest"><meta content="width=device-width,initial-scale=1" name="viewport"><meta content="#000000" name="theme-color"><title>Event Loop, Threads, and Web Workers. Asynchronous JavaScript. | Iurii Shapkarin</title><meta content="Iurii Shapkarin's personal website" name="description"><meta content="website" property="og:type"><meta content="Iurii Shapkarin | Software Developer" property="og:title"><meta content="Iurii Shapkarin's personal website" property="og:description"><meta content="https://shapkarin.me" property="og:url"><meta content="Iurii Shapkarin" name="twitter:creator"><meta content="website" name="twitter:card"><meta content="Iurii Shapkarin | Software Developer" name="twitter:title"><meta content="Iurii Shapkarin's personal website" name="twitter:description"><link href="https://fonts.googleapis.com/css?family=Lato:300" rel="stylesheet"><script type="text/javascript">!function(n){if("/"===n.search[1]){var a=n.search.slice(1).split("&").map(function(n){return n.replace(/~and~/g,"&")}).join("?");window.history.replaceState(null,null,n.pathname.slice(0,-1)+a+n.hash)}}(window.location)</script><title>Iurii Shapkarin</title><link href="https://fonts.googleapis.com" rel="preconnect"><link href="https://fonts.gstatic.com" rel="preconnect" crossorigin=""><link href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet"><script defer src="/static/js/main.68c0c614.js"></script><link href="/static/css/main.ef0e8649.css" rel="stylesheet"><link href="https://fonts.googleapis.com" rel="preconnect"><link href="https://fonts.gstatic.com" rel="preconnect"><link href="https://raw.githubusercontent.com" rel="preconnect"><link href="https://shapkarin.me/articles/async-event-loop-web-workers//" rel="canonical" data-react-helmet="true"><meta content="Dive deep into asynchronous JavaScript, understand the event loop, how JavaScript handles concurrency, and leverage Web Workers for true parallelism in your web applications." name="description" data-react-helmet="true"><meta content="" name="keywords" data-react-helmet="true"><meta content="article" data-react-helmet="true" property="og:type"><meta content="Event Loop, Threads, and Web Workers. Asynchronous JavaScript. | Iurii Shapkarin" data-react-helmet="true" property="og:title"><meta content="Dive deep into asynchronous JavaScript, understand the event loop, how JavaScript handles concurrency, and leverage Web Workers for true parallelism in your web applications." data-react-helmet="true" property="og:description"><meta content="https://shapkarin.me/articles/async-event-loop-web-workers//" data-react-helmet="true" property="og:url"><meta content="Iurii Shapkarin" name="twitter:creator" data-react-helmet="true"><meta content="article" name="twitter:card" data-react-helmet="true"><meta content="Event Loop, Threads, and Web Workers. Asynchronous JavaScript. | Iurii Shapkarin" name="twitter:title" data-react-helmet="true"><meta content="Dive deep into asynchronous JavaScript, understand the event loop, how JavaScript handles concurrency, and leverage Web Workers for true parallelism in your web applications." name="twitter:description" data-react-helmet="true"><script type="application/ld+json" data-react-helmet="true">[{"@context":"https://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://shapkarin.me/articles/async-event-loop-web-workers/"},"url":"https://shapkarin.me/articles/async-event-loop-web-workers/","headline":"Event Loop, Threads, and Web Workers: Complete Guide to Asynchronous JavaScript","description":"Dive deep into asynchronous JavaScript, understand the event loop, how JavaScript handles concurrency, and leverage Web Workers for true parallelism in your web applications. Complete guide with examples, best practices, and performance insights.","image":{"@type":"ImageObject","url":"https://shapkarin.me/logo.jpg","width":512,"height":512},"author":{"@type":"Person","name":"Iurii Shapkarin","alternateName":"Yury Shapkarin","url":"https://shapkarin.me"},"publisher":{"@type":"Person","name":"Iurii Shapkarin","alternateName":"Yury Shapkarin","logo":{"@type":"ImageObject","url":"https://shapkarin.me/logo.jpg","width":512,"height":512}},"datePublished":"2024-12-30","dateModified":"2024-12-30","wordCount":"4200","inLanguage":"en-US","learningResourceType":"Comprehensive technical guide","proficiencyLevel":["Beginner","Intermediate","Advanced"],"keywords":"event loop JavaScript, Web Workers, asynchronous JavaScript, concurrency JavaScript, JavaScript threads, promises JavaScript, async await, callback queue, microtask queue, macrotask queue, JavaScript performance, browser APIs, non-blocking JavaScript, JavaScript parallelism, single-threaded JavaScript, setTimeout JavaScript, fetch API, DOM events, task queue, job queue, JavaScript optimization, browser threading, worker threads, message passing, postMessage, JavaScript execution model, call stack JavaScript, agent clusters, JavaScript multithreading, background processing","about":[{"@type":"Thing","name":"Event Loop","description":"JavaScript's core mechanism for handling asynchronous operations and managing concurrency in a single-threaded environment"},{"@type":"Thing","name":"Web Workers","description":"Browser API that enables true parallelism by running JavaScript in background threads separate from the main UI thread"},{"@type":"Thing","name":"Asynchronous JavaScript","description":"Programming paradigm allowing JavaScript to handle multiple operations concurrently without blocking execution"},{"@type":"Thing","name":"Concurrency","description":"JavaScript's ability to manage multiple tasks simultaneously through cooperative multitasking and the event loop"},{"@type":"Thing","name":"Task Queue","description":"Queue system managing execution order of asynchronous callbacks and events in JavaScript"},{"@type":"Thing","name":"Browser APIs","description":"Web platform APIs that enable asynchronous operations like timers, network requests, and DOM events"}],"audience":[{"@type":"Audience","audienceType":"Developers","name":"JavaScript Developers"},{"@type":"Audience","audienceType":"Developers","name":"Frontend Developers"},{"@type":"Audience","audienceType":"Developers","name":"Full-Stack Developers"},{"@type":"Audience","audienceType":"Developers","name":"React Developers"},{"@type":"Audience","audienceType":"Students","name":"Computer Science Students"},{"@type":"Audience","audienceType":"Technical Leaders","name":"Software Architects"},{"@type":"Audience","audienceType":"Technical Leaders","name":"Engineering Managers"},{"@type":"Audience","audienceType":"Developers","name":"Software Engineers"}],"citation":[{"@type":"WebPage","name":"MDN Web Workers API Documentation","@id":"https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API","description":"Comprehensive documentation for Web Workers API including examples and best practices","relatedLink":["https://developer.mozilla.org/en-US/docs/Web/API/Worker","https://developer.mozilla.org/en-US/docs/Web/API/Worker/postMessage","https://developer.mozilla.org/en-US/docs/Web/API/Worker/onmessage"]},{"@type":"WebPage","name":"MDN Event Loop Documentation","@id":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/EventLoop","description":"Technical documentation explaining JavaScript's event loop mechanism","relatedLink":["https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise","https://developer.mozilla.org/en-US/docs/Web/API/setTimeout","https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function"]},{"@type":"WebPage","name":"ECMAScript Specification - Agent Clusters","@id":"https://tc39.es/ecma262/#sec-agent-clusters","description":"Official ECMAScript specification for agent clusters and memory model","relatedLink":["https://tc39.es/ecma262/#sec-agents","https://tc39.es/ecma262/#sec-jobs-and-job-queues"]},{"@type":"WebPage","name":"MDN Concurrency Model and Event Loop","@id":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Concurrency_model_and_Event_Loop","description":"Detailed explanation of JavaScript's concurrency model","relatedLink":["https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/queueMicrotask","https://developer.mozilla.org/en-US/docs/Web/API/HTML_DOM_API/Microtask_guide"]},{"@type":"WebPage","name":"MDN Using Web Workers","@id":"https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Using_web_workers","description":"Practical guide to implementing and using Web Workers effectively","relatedLink":["https://developer.mozilla.org/en-US/docs/Web/API/Worker/terminate","https://developer.mozilla.org/en-US/docs/Web/API/Worker/error_event"]},{"@type":"WebPage","name":"MDN Promise Documentation","@id":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise","description":"Complete reference for JavaScript Promises and asynchronous programming","relatedLink":["https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function","https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/await","https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Using_promises"]},{"@type":"WebPage","name":"MDN setTimeout Documentation","@id":"https://developer.mozilla.org/en-US/docs/Web/API/setTimeout","description":"Documentation for setTimeout and timer-based asynchronous operations","relatedLink":["https://developer.mozilla.org/en-US/docs/Web/API/setInterval","https://developer.mozilla.org/en-US/docs/Web/API/clearTimeout","https://developer.mozilla.org/en-US/docs/Web/API/clearInterval"]},{"@type":"WebPage","name":"HTML Living Standard - Event Loop Processing Model","@id":"https://html.spec.whatwg.org/multipage/webappapis.html#event-loop-processing-model","description":"Official specification for the event loop processing model","relatedLink":["https://html.spec.whatwg.org/multipage/webappapis.html#task-queue","https://html.spec.whatwg.org/multipage/webappapis.html#microtask-queue"]},{"@type":"WebPage","name":"MDN Transferable Objects","@id":"https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Transferable_objects","description":"Guide to transferable objects for efficient data passing between workers","relatedLink":["https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer","https://developer.mozilla.org/en-US/docs/Web/API/MessagePort"]},{"@type":"WebPage","name":"Can I Use Web Workers","@id":"https://caniuse.com/webworkers","description":"Browser support information for Web Workers across different platforms","relatedLink":["https://caniuse.com/sharedworkers","https://caniuse.com/serviceworkers"]}],"hasPart":[{"@type":"WebPageElement","name":"Introduction","url":"https://shapkarin.me/articles/async-event-loop-web-workers#introduction","description":"Overview of JavaScript's single-threaded nature and the need for asynchronous programming"},{"@type":"WebPageElement","name":"The Single-Threaded Nature of JavaScript","url":"https://shapkarin.me/articles/async-event-loop-web-workers#the-single-threaded-nature-of-javascript","description":"Understanding JavaScript's execution model with one call stack and memory heap"},{"@type":"WebPageElement","name":"Asynchronous JavaScript: The Illusion of Concurrency","url":"https://shapkarin.me/articles/async-event-loop-web-workers#asynchronous-javascript-the-illusion-of-concurrency","description":"How JavaScript achieves non-blocking behavior through Web APIs and callback queuing"},{"@type":"WebPageElement","name":"Common Asynchronous Patterns","url":"https://shapkarin.me/articles/async-event-loop-web-workers#common-asynchronous-patterns","description":"Comprehensive coverage of Callbacks, Promises, and Async/Await patterns with examples"},{"@type":"WebPageElement","name":"The Event Loop: Orchestrating Asynchronous Operations","url":"https://shapkarin.me/articles/async-event-loop-web-workers#the-event-loop-orchestrating-asynchronous-operations","description":"Deep dive into the event loop mechanism including call stack, queues, and processing model"},{"@type":"WebPageElement","name":"Components of the Event Loop","url":"https://shapkarin.me/articles/async-event-loop-web-workers#components-of-the-event-loop","description":"Detailed explanation of call stack, Web APIs, task queue, and microtask queue"},{"@type":"WebPageElement","name":"Event Loop Analogies","url":"https://shapkarin.me/articles/async-event-loop-web-workers#event-loop-analogy-the-restaurant","description":"Restaurant and cookie baking analogies to understand event loop mechanics"},{"@type":"WebPageElement","name":"Classic Example of Execution Order","url":"https://shapkarin.me/articles/async-event-loop-web-workers#classic-example-of-execution-order","description":"Practical code example demonstrating microtask vs macrotask execution order"},{"@type":"WebPageElement","name":"Web Workers: True Parallelism in the Browser","url":"https://shapkarin.me/articles/async-event-loop-web-workers#web-workers-true-parallelism-in-the-browser","description":"Introduction to Web Workers for background processing and true multithreading"},{"@type":"WebPageElement","name":"Key Characteristics of Web Workers","url":"https://shapkarin.me/articles/async-event-loop-web-workers#key-characteristics-of-web-workers","description":"Understanding worker thread isolation, communication, and limitations"},{"@type":"WebPageElement","name":"Creating and Using a Web Worker","url":"https://shapkarin.me/articles/async-event-loop-web-workers#creating-and-using-a-web-worker","description":"Complete code examples for main thread and worker implementation with message passing"},{"@type":"WebPageElement","name":"When to Use Web Workers","url":"https://shapkarin.me/articles/async-event-loop-web-workers#when-to-use-web-workers","description":"Best practices for identifying CPU-intensive tasks suitable for Web Workers"},{"@type":"WebPageElement","name":"Limitations and Considerations","url":"https://shapkarin.me/articles/async-event-loop-web-workers#limitations-and-considerations","description":"Understanding Web Worker overhead, data transfer costs, and debugging challenges"},{"@type":"WebPageElement","name":"Additional Examples of Event Loop Behavior","url":"https://shapkarin.me/articles/async-event-loop-web-workers#additional-examples-of-event-loop-behavior","description":"Complex examples showing nested promises, timeouts, and execution order"},{"@type":"WebPageElement","name":"Agent Clusters and Memory Sharing","url":"https://shapkarin.me/articles/async-event-loop-web-workers#agent-clusters-and-memory-sharing","description":"Advanced concepts of SharedArrayBuffer and Atomics API for concurrent memory access"},{"@type":"WebPageElement","name":"Job Queues in Detail","url":"https://shapkarin.me/articles/async-event-loop-web-workers#job-queues-in-detail","description":"ECMAScript specification details on job queues and task prioritization"}],"teaches":["Understanding JavaScript's single-threaded execution model","Mastering asynchronous programming with callbacks, promises, and async/await","How the event loop manages concurrency and task execution","Implementing Web Workers for CPU-intensive background tasks","Message passing and communication between main thread and workers","Optimizing performance with proper asynchronous patterns","Advanced concepts like agent clusters and memory sharing","Best practices for non-blocking JavaScript applications"],"programmingLanguage":"JavaScript","operatingSystem":"Cross-platform","applicationCategory":"Educational"},{"@context":"https://schema.org","@type":"ImageObject","name":"JavaScript Event Loop Flow Diagram","description":"Visual representation of JavaScript event loop components including call stack, Web APIs, task queue, and microtask queue showing the flow of asynchronous operations","contentUrl":"https://shapkarin.me/api/articles/async-event-loop-web-workers-0.svg","encodingFormat":"image/svg+xml","learningResourceType":"diagram","educationalUse":["learning","presentation"],"educationalLevel":["primary","secondary"],"about":{"@type":"Thing","name":"JavaScript Event Loop Architecture"}},{"@context":"https://schema.org","@type":"ImageObject","name":"Web Worker Communication Sequence Diagram","description":"Sequence diagram illustrating message passing between main thread and Web Worker, showing how background processing maintains UI responsiveness","contentUrl":"https://shapkarin.me/api/articles/async-event-loop-web-workers-1.svg","encodingFormat":"image/svg+xml","learningResourceType":"diagram","educationalUse":["learning","presentation"],"educationalLevel":["primary","secondary"],"about":{"@type":"Thing","name":"Web Worker Thread Communication"}},{"@context":"https://schema.org","@type":"FAQPage","mainEntity":[{"@type":"Question","name":"What is the JavaScript event loop and how does it work?","acceptedAnswer":{"@type":"Answer","text":"The JavaScript event loop is a mechanism that enables non-blocking asynchronous execution in JavaScript's single-threaded environment. It continuously monitors the call stack and task queues, executing synchronous code first, then processing all microtasks (like Promise callbacks), and finally handling macrotasks (like setTimeout callbacks) one at a time. This creates the illusion of concurrency while maintaining single-threaded execution."}},{"@type":"Question","name":"What's the difference between microtasks and macrotasks in JavaScript?","acceptedAnswer":{"@type":"Answer","text":"Microtasks (like Promise.then() callbacks) have higher priority than macrotasks (like setTimeout() callbacks). After each macrotask execution, the event loop processes ALL available microtasks before moving to the next macrotask. This means Promise callbacks always execute before setTimeout callbacks, even if the setTimeout delay is 0. Microtasks include Promise reactions, queueMicrotask(), and MutationObserver callbacks."}},{"@type":"Question","name":"When should I use Web Workers instead of regular asynchronous JavaScript?","acceptedAnswer":{"@type":"Answer","text":"Use Web Workers for CPU-intensive tasks that would block the main thread, such as: complex mathematical calculations, image/video processing, large data sorting/filtering, encryption/decryption, or data parsing. Regular async JavaScript (promises, async/await) is perfect for I/O operations like network requests, file reading, or timers. Web Workers provide true parallelism while async JavaScript provides concurrency through cooperative multitasking."}},{"@type":"Question","name":"Can Web Workers access the DOM?","acceptedAnswer":{"@type":"Answer","text":"No, Web Workers cannot directly access the DOM, window object, or parent object. This is by design to prevent race conditions and thread safety issues. Workers must communicate with the main thread via postMessage() to update the UI. Workers can use XMLHttpRequest, fetch(), timers, and other non-UI browser APIs. This isolation ensures thread safety but requires careful planning for data communication."}},{"@type":"Question","name":"How do I communicate between the main thread and a Web Worker?","acceptedAnswer":{"@type":"Answer","text":"Communication happens through message passing using postMessage() to send data and onmessage event handlers to receive data. Data is copied by default (structured cloning), which can be slow for large objects. For better performance with large data, use Transferable Objects like ArrayBuffer which transfer ownership instead of copying. Always handle errors with onerror event handlers and remember that all communication is asynchronous."}},{"@type":"Question","name":"Why does setTimeout(callback, 0) not execute immediately?","acceptedAnswer":{"@type":"Answer","text":"setTimeout(callback, 0) doesn't execute immediately because it places the callback in the macrotask queue, which is processed only after the current execution stack is empty and all microtasks are completed. Even with 0 delay, it must wait for the event loop to finish current synchronous code and process any pending Promise callbacks (microtasks). This is why console.log() statements after setTimeout will often execute first."}},{"@type":"Question","name":"What are the performance implications of using Web Workers?","acceptedAnswer":{"@type":"Answer","text":"Web Workers have creation overhead and data transfer costs through message passing. Creating a worker takes time, and copying large objects between threads can be expensive. However, for CPU-intensive tasks, Workers prevent main thread blocking and provide true parallelism, often resulting in better overall performance and user experience. Use Workers for tasks longer than ~50ms that would otherwise freeze the UI."}},{"@type":"Question","name":"What is the difference between callbacks, Promises, and async/await?","acceptedAnswer":{"@type":"Answer","text":"Callbacks are functions passed as arguments and executed later, but can lead to 'callback hell' with nested operations. Promises provide better error handling and chaining with .then() and .catch(), avoiding deep nesting. Async/await is syntactic sugar over Promises, making asynchronous code look synchronous and easier to read/debug. All three patterns work with the same event loop mechanism but offer different developer experiences."}},{"@type":"Question","name":"How does JavaScript achieve concurrency if it's single-threaded?","acceptedAnswer":{"@type":"Answer","text":"JavaScript achieves concurrency through cooperative multitasking managed by the event loop, not true parallelism. While JavaScript execution is single-threaded, the browser/Node.js environment provides Web APIs (timers, network, file I/O) that run on separate threads. When these operations complete, their callbacks are queued for execution. The event loop coordinates this by processing one task at a time while maintaining responsiveness."}}]},{"@context":"https://schema.org","@type":"HowTo","name":"How to Implement Web Workers for Background Processing","description":"Step-by-step guide to implementing Web Workers for CPU-intensive tasks in JavaScript applications","image":{"@type":"ImageObject","url":"https://shapkarin.me/logo.jpg","width":512,"height":512},"totalTime":"PT25M","estimatedCost":{"@type":"MonetaryAmount","currency":"USD","value":"0"},"supply":[{"@type":"HowToSupply","name":"JavaScript knowledge"},{"@type":"HowToSupply","name":"Web browser or Node.js environment"},{"@type":"HowToSupply","name":"Code editor"}],"tool":[{"@type":"HowToTool","name":"Browser Developer Tools"},{"@type":"HowToTool","name":"Performance profiler"}],"step":[{"@type":"HowToStep","name":"Identify CPU-intensive tasks","text":"Profile your application to find operations that block the main thread for more than 50ms, such as complex calculations, data processing, or image manipulation."},{"@type":"HowToStep","name":"Create the worker script","text":"Write a separate JavaScript file for the worker that handles the CPU-intensive task, sets up message event listeners, and communicates results back to the main thread."},{"@type":"HowToStep","name":"Set up main thread communication","text":"In your main script, create a new Worker instance, set up message handlers for receiving results, and implement error handling for worker failures."},{"@type":"HowToStep","name":"Implement message passing","text":"Use postMessage() to send data to the worker and onmessage handlers to receive results. Structure your messages with clear command types and data payloads."},{"@type":"HowToStep","name":"Handle data transfer optimization","text":"For large datasets, consider using Transferable Objects like ArrayBuffer to transfer ownership instead of copying data, improving performance significantly."},{"@type":"HowToStep","name":"Test and monitor performance","text":"Verify that your Web Worker implementation improves UI responsiveness and overall performance using browser DevTools and performance monitoring."}]},{"@context":"https://schema.org","@type":"HowTo","name":"How to Understand JavaScript Event Loop Execution Order","description":"Complete guide to mastering JavaScript event loop, microtasks, and macrotasks execution order","image":{"@type":"ImageObject","url":"https://shapkarin.me/logo.jpg","width":512,"height":512},"totalTime":"PT15M","estimatedCost":{"@type":"MonetaryAmount","currency":"USD","value":"0"},"supply":[{"@type":"HowToSupply","name":"Basic JavaScript knowledge"},{"@type":"HowToSupply","name":"Understanding of asynchronous programming"}],"tool":[{"@type":"HowToTool","name":"Browser console"},{"@type":"HowToTool","name":"JavaScript runtime environment"}],"step":[{"@type":"HowToStep","name":"Learn the execution phases","text":"Understand that JavaScript processes: 1) Synchronous code on call stack, 2) All microtasks in microtask queue, 3) One macrotask from task queue, then repeats."},{"@type":"HowToStep","name":"Identify microtasks vs macrotasks","text":"Recognize microtasks (Promise.then(), queueMicrotask()) always execute before macrotasks (setTimeout(), setInterval(), DOM events)."},{"@type":"HowToStep","name":"Practice with code examples","text":"Run examples mixing console.log(), setTimeout(), and Promise.resolve().then() to observe execution order patterns."},{"@type":"HowToStep","name":"Understand priority rules","text":"Remember that after any macrotask, ALL available microtasks execute before the next macrotask, creating predictable execution patterns."},{"@type":"HowToStep","name":"Apply knowledge to debugging","text":"Use your understanding to debug async timing issues, optimize performance, and write predictable asynchronous code."}]},{"@context":"https://schema.org","@type":"SoftwareSourceCode","name":"JavaScript Event Loop and Web Workers Examples","description":"Complete code examples demonstrating event loop behavior, asynchronous patterns, and Web Worker implementation","programmingLanguage":"JavaScript","codeRepository":"https://shapkarin.me/articles/async-event-loop-web-workers","author":{"@type":"Person","name":"Iurii Shapkarin"},"applicationCategory":"Educational","operatingSystem":"Cross-platform","teaches":["Event loop execution order with practical examples","Web Worker implementation for background processing","Message passing between main thread and workers","Asynchronous pattern comparisons (callbacks, promises, async/await)","Performance optimization with Web Workers"]}]</script></head><body><noscript>You need to enable JavaScript to run this app.</noscript><div id="root"><a href="#menu" class="a11y hidden">Go to Menu</a><div class="About"><a href="/" class="About_greeting">Hello everyone!</a> My name is Iurii Shapkarin. I am a software engineer with over a decade of experience and a solid foundation in Computer Science. My work reflects a firm commitment to innovation, problem-solving, and delivering exceptional user experiences.<a href="https://www.linkedin.com/in/shapkarin" target="_blank" rel="noreferrer" class="Social_Link">LinkedIn<svg fill="none" height="1em" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" x2="21" y1="14" y2="3"></line></svg></a><a href="https://github.com/shapkarin" target="_blank" rel="noreferrer" class="Social_Link">GitHub<svg fill="none" height="1em" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" x2="21" y1="14" y2="3"></line></svg></a><span class="About_email">Get my email</span><em class="Disclaimer">Disclaimer: homepage has been gradually developed <a href="https://web.archive.org/web/20130801000000*/shapkarin.me" target="_blank" rel="noreferrer">since 2013<svg fill="none" height="1em" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" x2="21" y1="14" y2="3"></line></svg></a>with limited time | <a href="https://github.com/shapkarin/shapkarin.me" target="_blank" rel="noreferrer">cource code<svg fill="none" height="1em" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" x2="21" y1="14" y2="3"></line></svg></a></em></div><nav aria-label="Main Menu" class="Menu" id="menu" role="navigation"><ul class="Menu_List"><li class="Menu_List_Item"><a href="/" class="Menu__Item"><svg fill="currentColor" height="1em" stroke="currentColor" stroke-width="0" viewBox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M20 22H4C3.44772 22 3 21.5523 3 21V3C3 2.44772 3.44772 2 4 2H20C20.5523 2 21 2.44772 21 3V21C21 21.5523 20.5523 22 20 22ZM19 20V4H5V20H19ZM7 6H11V10H7V6ZM7 12H17V14H7V12ZM7 16H17V18H7V16ZM13 7H17V9H13V7Z"></path></svg> Articles</a></li><li class="Menu_List_Item"><a href="/github/repositories/" class="Menu__Item"><svg fill="currentColor" height="1em" stroke="currentColor" stroke-width="0" viewBox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M3 2.75A2.75 2.75 0 0 1 5.75 0h14.5a.75.75 0 0 1 .75.75v20.5a.75.75 0 0 1-.75.75h-6a.75.75 0 0 1 0-1.5h5.25v-4H6A1.5 1.5 0 0 0 4.5 18v.75c0 .716.43 1.334 1.05 1.605a.75.75 0 0 1-.6 1.374A3.251 3.251 0 0 1 3 18.75ZM19.5 1.5H5.75c-.69 0-1.25.56-1.25 1.25v12.651A2.989 2.989 0 0 1 6 15h13.5Z"></path><path d="M7 18.25a.25.25 0 0 1 .25-.25h5a.25.25 0 0 1 .25.25v5.01a.25.25 0 0 1-.397.201l-2.206-1.604a.25.25 0 0 0-.294 0L7.397 23.46a.25.25 0 0 1-.397-.2v-5.01Z"></path></svg> Repositories</a></li><li class="Menu_List_Item"><a href="/github/likes/" class="Menu__Item"><svg fill="currentColor" height="1.2em" stroke="currentColor" stroke-width="0" viewBox="0 0 24 24" width="1.2em" xmlns="http://www.w3.org/2000/svg"><path d="M12 .25a.75.75 0 0 1 .673.418l3.058 6.197 6.839.994a.75.75 0 0 1 .415 1.279l-4.948 4.823 1.168 6.811a.751.751 0 0 1-1.088.791L12 18.347l-6.117 3.216a.75.75 0 0 1-1.088-.79l1.168-6.812-4.948-4.823a.75.75 0 0 1 .416-1.28l6.838-.993L11.328.668A.75.75 0 0 1 12 .25Zm0 2.445L9.44 7.882a.75.75 0 0 1-.565.41l-5.725.832 4.143 4.038a.748.748 0 0 1 .215.664l-.978 5.702 5.121-2.692a.75.75 0 0 1 .698 0l5.12 2.692-.977-5.702a.748.748 0 0 1 .215-.664l4.143-4.038-5.725-.831a.75.75 0 0 1-.565-.41L12 2.694Z"></path></svg> Likes</a></li><li class="Menu_List_Item"><a href="/packages/" class="Menu__Item"><svg fill="currentColor" height="1.24em" stroke="currentColor" stroke-width="0" viewBox="0 0 24 24" width="1.24em" xmlns="http://www.w3.org/2000/svg"><path d="M20.001 3C20.5533 3 21.001 3.44772 21.001 4V20C21.001 20.5523 20.5533 21 20.001 21H4.00098C3.44869 21 3.00098 20.5523 3.00098 20V4C3.00098 3.44772 3.44869 3 4.00098 3H20.001ZM19.001 5H5.00098V19H19.001V5ZM17.001 7V17H14.501V9.5H12.001V17H7.00098V7H17.001Z"></path></svg> Packages</a></li><li class="Menu_List_Item"><a href="/creative/" class="Menu__Item"><svg fill="currentColor" height="1em" stroke="currentColor" stroke-width="0" viewBox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M4 2.99658H20C20.5523 2.99658 21 3.4443 21 3.99658V8.99658C21 9.54887 20.5523 9.99658 20 9.99658H4C3.44772 9.99658 3 9.54887 3 8.99658V3.99658C3 3.4443 3.44772 2.99658 4 2.99658ZM6 11.9966H12C12.5523 11.9966 13 12.4443 13 12.9966V15.9966H14V21.9966H10V15.9966H11V13.9966H5C4.44772 13.9966 4 13.5489 4 12.9966V10.9966H6V11.9966ZM17.7322 13.7288L19.5 11.961L21.2678 13.7288C22.2441 14.7051 22.2441 16.288 21.2678 17.2643C20.2915 18.2407 18.7085 18.2407 17.7322 17.2643C16.7559 16.288 16.7559 14.7051 17.7322 13.7288Z"></path></svg> Creative</a></li></ul><button class="Menu__Item Menu__Item--unselect Menu__Item--bg"><svg fill="currentColor" height="1em" stroke="currentColor" stroke-width="0" viewBox="0 0 512 512" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M433 288.8c-7.7 0-14.3 5.9-14.9 13.6-6.9 83.1-76.8 147.9-161.8 147.9-89.5 0-162.4-72.4-162.4-161.4 0-87.6 70.6-159.2 158.2-161.4 2.3-.1 4.1 1.7 4.1 4v50.3c0 12.6 13.9 20.2 24.6 13.5L377 128c10-6.3 10-20.8 0-27.1l-96.1-66.4c-10.7-6.7-24.6.9-24.6 13.5v45.7c0 2.2-1.7 4-3.9 4C148 99.8 64 184.6 64 288.9 64 394.5 150.1 480 256.3 480c100.8 0 183.4-76.7 191.6-175.1.8-8.7-6.2-16.1-14.9-16.1z"></path></svg> bg upd</button></nav><div class="Wrap"><div class="Page"><a href="/" class="CloseButton" aria-label="Back to the main page"><svg fill="currentColor" height="1em" stroke="currentColor" stroke-width="0" viewBox="0 0 512 512" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M405 136.798L375.202 107 256 226.202 136.798 107 107 136.798 226.202 256 107 375.202 136.798 405 256 285.798 375.202 405 405 375.202 285.798 256z"></path></svg></a><div class="Article Page__Article Page__Inner"><a href="/" class="Article__GoBack">← All articles</a><div><h1 id="asynchronous-event-loop-threads-and-web-workers">Asynchronous, Event Loop, "Threads", and Web Workers</h1><ul><li><a href="#introduction" target="_self">Introduction</a></li><li><a href="#the-single-threaded-nature-of-javascript" target="_self">The Single-Threaded Nature of JavaScript</a></li><li><a href="#asynchronous-javascript-the-illusion-of-concurrency" target="_self">Asynchronous JavaScript: The Illusion of Concurrency</a><ul><li><a href="#common-asynchronous-patterns" target="_self">Common Asynchronous Patterns</a><ul><li><a href="#callbacks" target="_self">Callbacks</a></li><li><a href="#promises" target="_self">Promises</a></li><li><a href="#asyncawait" target="_self">Async/Await</a></li></ul></li></ul></li><li><a href="#the-event-loop-orchestrating-asynchronous-operations" target="_self">The Event Loop: Orchestrating Asynchronous Operations</a><ul><li><a href="#components-of-the-event-loop" target="_self">Components of the Event Loop</a></li><li><a href="#how-it-works" target="_self">How It Works</a></li><li><a href="#event-loop-analogy-the-restaurant" target="_self">Event Loop Analogy: The Restaurant</a></li><li><a href="#event-loop-analogy-baking-cookies" target="_self">Event Loop Analogy: Baking Cookies</a></li></ul></li><li><a href="#classic-example-of-execution-order" target="_self">Classic Example of Execution Order</a></li><li><a href="#so-no-real-threads-in-main-javascript" target="_self">So, No Real Threads in Main JavaScript?</a></li><li><a href="#web-workers-true-parallelism-in-the-browser" target="_self">Web Workers: True Parallelism in the Browser</a><ul><li><a href="#key-characteristics-of-web-workers" target="_self">Key Characteristics of Web Workers</a></li><li><a href="#creating-and-using-a-web-worker" target="_self">Creating and Using a Web Worker</a></li><li><a href="#when-to-use-web-workers" target="_self">When to Use Web Workers</a></li><li><a href="#limitations-and-considerations" target="_self">Limitations and Considerations</a></li></ul></li><li><a href="#additional-examples-of-event-loop-behavior" target="_self">Additional Examples of Event Loop Behavior</a></li><li><a href="#agent-clusters-and-memory-sharing" target="_self">Agent Clusters and Memory Sharing</a></li><li><a href="#job-queues-in-detail" target="_self">Job Queues in Detail</a></li><li><a href="#conclusion" target="_self">Conclusion</a></li></ul><h2 id="introduction">Introduction</h2><p>JavaScript, the backbone of modern web development, is fundamentally a <strong>single-threaded</strong> language. This means it can only do one thing at a time. However, web applications often need to handle multiple tasks concurrently, like fetching data, responding to user interactions, and performing complex calculations, all without freezing the user interface. This is where asynchronous programming, the event loop, and Web Workers come into play.</p><p>This article will guide you through these critical concepts, empowering you to write efficient, non-blocking, and responsive JavaScript code.</p><h2 id="the-single-threaded-nature-of-javascript">The Single-Threaded Nature of JavaScript</h2><p>When we say JavaScript is single-threaded, it means it has one call stack and one memory heap. The call stack is where JavaScript keeps track of function calls. If a function takes a long time to execute (e.g., a complex calculation or a synchronous network request), it blocks the call stack. This means no other code can run, leading to an unresponsive UI – the dreaded "frozen page."</p><h2 id="asynchronous-javascript-the-illusion-of-concurrency">Asynchronous JavaScript: The Illusion of Concurrency</h2><p>To overcome the limitations of a single thread, JavaScript employs an asynchronous, non-blocking model. This doesn't mean JavaScript suddenly becomes multi-threaded in its core execution of your main script. Instead, it offloads certain operations to the browser's Web APIs (or Node.js APIs in a server environment). These APIs can handle tasks like <code>setTimeout</code>, <code>setInterval</code>, DOM events, and network requests (<code>fetch</code>, <code>XMLHttpRequest</code>) in the background.</p><p>Once these background tasks are complete, they queue a callback function to be executed by the JavaScript engine.</p><h3 id="common-asynchronous-patterns">Common Asynchronous Patterns</h3><h4>Callbacks</h4><p>The traditional way to handle asynchronous operations. A function (the callback) is passed as an argument to another function and is executed once the asynchronous operation completes.</p><pre><h3 class="Article__CondingLang">js:</h3><div style='color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo,Monaco,Consolas,"Andale Mono","Ubuntu Mono","Courier New",monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;tab-size:4;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e'><code class="language-javascript" style='white-space:pre;color:#9cdcfe;font-size:13px;text-shadow:none;font-family:Menlo,Monaco,Consolas,"Andale Mono","Ubuntu Mono","Courier New",monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;tab-size:4;hyphens:none'><span class="token" style="color:#4ec9b0">console</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">log</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">"Start"</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span></span><span class="token" style="color:#569cd6">function</span><span> </span><span class="token" style="color:#dcdcaa">fetchData</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#9cdcfe">callback</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>  </span><span class="token" style="color:#dcdcaa">setTimeout</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569cd6">=></span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>    </span><span class="token" style="color:#4ec9b0">console</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">log</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">"Data fetched!"</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>    </span><span class="token" style="color:#dcdcaa">callback</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">"Some data"</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>  </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#b5cea8">2000</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span> </span><span class="token" style="color:#6a9955">// Simulates a 2-second network request</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">}</span><span>
</span>
<span></span><span class="token" style="color:#dcdcaa">fetchData</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#9cdcfe">data</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569cd6">=></span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>  </span><span class="token" style="color:#4ec9b0">console</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">log</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">"Callback executed with:"</span><span class="token" style="color:#d4d4d4">,</span><span> data</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span></span><span class="token" style="color:#4ec9b0">console</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">log</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">"End"</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#6a9955">// Output:</span><span>
</span><span></span><span class="token" style="color:#6a9955">// Start</span><span>
</span><span></span><span class="token" style="color:#6a9955">// End</span><span>
</span><span></span><span class="token" style="color:#6a9955">// Data fetched!</span><span>
</span><span></span><span class="token" style="color:#6a9955">// Callback executed with: Some data</span></code></div></pre><p>While functional, deeply nested callbacks ("callback hell") can make code hard to read and maintain.</p><h4>Promises</h4><p>Introduced in ES6, Promises provide a cleaner way to manage asynchronous operations. A Promise is an object representing the eventual completion (or failure) of an asynchronous operation and its resulting value.</p><pre><h3 class="Article__CondingLang">js:</h3><div style='color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo,Monaco,Consolas,"Andale Mono","Ubuntu Mono","Courier New",monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;tab-size:4;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e'><code class="language-javascript" style='white-space:pre;color:#9cdcfe;font-size:13px;text-shadow:none;font-family:Menlo,Monaco,Consolas,"Andale Mono","Ubuntu Mono","Courier New",monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;tab-size:4;hyphens:none'><span class="token" style="color:#4ec9b0">console</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">log</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">"Start"</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span></span><span class="token" style="color:#569cd6">function</span><span> </span><span class="token" style="color:#dcdcaa">fetchDataPromise</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>  </span><span class="token" style="color:#c586c0">return</span><span> </span><span class="token" style="color:#569cd6">new</span><span> </span><span class="token" style="color:#4ec9b0">Promise</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#9cdcfe">resolve</span><span class="token" style="color:#d4d4d4">,</span><span class="token" style="color:#9cdcfe"> reject</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569cd6">=></span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>    </span><span class="token" style="color:#dcdcaa">setTimeout</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569cd6">=></span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>      </span><span class="token" style="color:#569cd6">const</span><span> success </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#569cd6">true</span><span class="token" style="color:#d4d4d4">;</span><span> </span><span class="token" style="color:#6a9955">// Simulate success/failure</span><span>
</span><span>      </span><span class="token" style="color:#c586c0">if</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span>success</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>        </span><span class="token" style="color:#4ec9b0">console</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">log</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">"Data fetched (Promise)!"</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>        </span><span class="token" style="color:#dcdcaa">resolve</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">"Some data from Promise"</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>      </span><span class="token" style="color:#d4d4d4">}</span><span> </span><span class="token" style="color:#c586c0">else</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>        </span><span class="token" style="color:#dcdcaa">reject</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">"Failed to fetch data"</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>      </span><span class="token" style="color:#d4d4d4">}</span><span>
</span><span>    </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#b5cea8">2000</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>  </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">}</span><span>
</span>
<span></span><span class="token" style="color:#dcdcaa">fetchDataPromise</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span>
</span><span>  </span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">then</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#9cdcfe">data</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569cd6">=></span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>    </span><span class="token" style="color:#4ec9b0">console</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">log</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">"Promise resolved with:"</span><span class="token" style="color:#d4d4d4">,</span><span> data</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>  </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span>
</span><span>  </span><span class="token" style="color:#d4d4d4">.</span><span class="token" style="color:#c586c0">catch</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#9cdcfe">error</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569cd6">=></span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>    </span><span class="token" style="color:#4ec9b0">console</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">error</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">"Promise rejected with:"</span><span class="token" style="color:#d4d4d4">,</span><span> error</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>  </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span></span><span class="token" style="color:#4ec9b0">console</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">log</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">"End"</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#6a9955">// Output (if success):</span><span>
</span><span></span><span class="token" style="color:#6a9955">// Start</span><span>
</span><span></span><span class="token" style="color:#6a9955">// End</span><span>
</span><span></span><span class="token" style="color:#6a9955">// Data fetched (Promise)!</span><span>
</span><span></span><span class="token" style="color:#6a9955">// Promise resolved with: Some data from Promise</span></code></div></pre><h4>Async/Await</h4><p>Built on top of Promises, <code>async/await</code> (introduced in ES2017) offers an even more synchronous-looking syntax for writing asynchronous code, making it more readable.</p><pre><h3 class="Article__CondingLang">js:</h3><div style='color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo,Monaco,Consolas,"Andale Mono","Ubuntu Mono","Courier New",monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;tab-size:4;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e'><code class="language-javascript" style='white-space:pre;color:#9cdcfe;font-size:13px;text-shadow:none;font-family:Menlo,Monaco,Consolas,"Andale Mono","Ubuntu Mono","Courier New",monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;tab-size:4;hyphens:none'><span class="token" style="color:#4ec9b0">console</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">log</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">"Start"</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span></span><span class="token" style="color:#569cd6">function</span><span> </span><span class="token" style="color:#dcdcaa">fetchDataAsync</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>  </span><span class="token" style="color:#c586c0">return</span><span> </span><span class="token" style="color:#569cd6">new</span><span> </span><span class="token" style="color:#4ec9b0">Promise</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#9cdcfe">resolve</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569cd6">=></span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>    </span><span class="token" style="color:#dcdcaa">setTimeout</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569cd6">=></span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>      </span><span class="token" style="color:#4ec9b0">console</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">log</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">"Data fetched (Async/Await)!"</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>      </span><span class="token" style="color:#dcdcaa">resolve</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">"Some data from Async/Await"</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>    </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#b5cea8">2000</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>  </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">}</span><span>
</span>
<span></span><span class="token" style="color:#569cd6">async</span><span> </span><span class="token" style="color:#569cd6">function</span><span> </span><span class="token" style="color:#dcdcaa">processData</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>  </span><span class="token" style="color:#c586c0">try</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>    </span><span class="token" style="color:#4ec9b0">console</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">log</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">"Calling fetchDataAsync..."</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>    </span><span class="token" style="color:#569cd6">const</span><span> data </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#c586c0">await</span><span> </span><span class="token" style="color:#dcdcaa">fetchDataAsync</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span> </span><span class="token" style="color:#6a9955">// Pauses execution here until promise resolves</span><span>
</span><span>    </span><span class="token" style="color:#4ec9b0">console</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">log</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">"Async/Await received:"</span><span class="token" style="color:#d4d4d4">,</span><span> data</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>  </span><span class="token" style="color:#d4d4d4">}</span><span> </span><span class="token" style="color:#c586c0">catch</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span>error</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>    </span><span class="token" style="color:#4ec9b0">console</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">error</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">"Async/Await error:"</span><span class="token" style="color:#d4d4d4">,</span><span> error</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>  </span><span class="token" style="color:#d4d4d4">}</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">}</span><span>
</span>
<span></span><span class="token" style="color:#dcdcaa">processData</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#4ec9b0">console</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">log</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">"End"</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#6a9955">// Output:</span><span>
</span><span></span><span class="token" style="color:#6a9955">// Start</span><span>
</span><span></span><span class="token" style="color:#6a9955">// Calling fetchDataAsync...</span><span>
</span><span></span><span class="token" style="color:#6a9955">// End</span><span>
</span><span></span><span class="token" style="color:#6a9955">// Data fetched (Async/Await)!</span><span>
</span><span></span><span class="token" style="color:#6a9955">// Async/Await received: Some data from Async/Await</span></code></div></pre><p>Notice how "End" is logged before "Data fetched..." because <code>processData</code> is asynchronous. <code>await</code> only pauses execution <em>within</em> the <code>async</code> function, not the entire JavaScript engine.</p><h2 id="the-event-loop-orchestrating-asynchronous-operations">The Event Loop: Orchestrating Asynchronous Operations</h2><p>The Event Loop is the heart of JavaScript's concurrency model. It's a mechanism that allows JavaScript to perform non-blocking operations, despite being single-threaded, by offloading operations to the browser's APIs and processing results in a specific order.</p><p><img alt="Graph diagram" src="/api/articles/dark/async-event-loop-web-workers-0.svg"></p><pre><details><summary>Show Mermaid Code</summary><div style='color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo,Monaco,Consolas,"Andale Mono","Ubuntu Mono","Courier New",monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;tab-size:4;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e'><code class="language-mermaid" style='white-space:pre;color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo,Monaco,Consolas,"Andale Mono","Ubuntu Mono","Courier New",monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;tab-size:4;hyphens:none'><span>    A</span><span class="token text" style="color:#ce9178">[JavaScript Code]</span><span> </span><span class="token" style="color:#569cd6">--></span><span> B</span><span class="token text" style="color:#ce9178">[Call Stack]</span><span>
</span><span>    B </span><span class="token" style="color:#569cd6">--></span><span> C</span><span class="token text" style="color:#ce9178">{Synchronous?}</span><span>
</span><span>    C </span><span class="token" style="color:#569cd6">--></span><span class="token label" style="color:#9cdcfe">|Yes|</span><span> D</span><span class="token text" style="color:#ce9178">[Execute Immediately]</span><span>
</span><span>    C </span><span class="token" style="color:#569cd6">--></span><span class="token label" style="color:#9cdcfe">|No|</span><span> E</span><span class="token text" style="color:#ce9178">[Web APIs]</span><span>
</span><span>    E </span><span class="token" style="color:#569cd6">--></span><span> F</span><span class="token text" style="color:#ce9178">[Task Queue]</span><span>
</span><span>    E </span><span class="token" style="color:#569cd6">--></span><span> G</span><span class="token text" style="color:#ce9178">[Microtask Queue]</span><span>
</span><span>    H</span><span class="token text" style="color:#ce9178">[Event Loop]</span><span> </span><span class="token" style="color:#569cd6">--></span><span> I</span><span class="token text" style="color:#ce9178">{Call Stack Empty?}</span><span>
</span><span>    I </span><span class="token" style="color:#569cd6">--></span><span class="token label" style="color:#9cdcfe">|No|</span><span> H
</span><span>    I </span><span class="token" style="color:#569cd6">--></span><span class="token label" style="color:#9cdcfe">|Yes|</span><span> J</span><span class="token text" style="color:#ce9178">{Microtasks Available?}</span><span>
</span><span>    J </span><span class="token" style="color:#569cd6">--></span><span class="token label" style="color:#9cdcfe">|Yes|</span><span> K</span><span class="token text" style="color:#ce9178">[Execute All Microtasks]</span><span>
</span><span>    K </span><span class="token" style="color:#569cd6">--></span><span> H
</span><span>    J </span><span class="token" style="color:#569cd6">--></span><span class="token label" style="color:#9cdcfe">|No|</span><span> L</span><span class="token text" style="color:#ce9178">{Tasks Available?}</span><span>
</span><span>    L </span><span class="token" style="color:#569cd6">--></span><span class="token label" style="color:#9cdcfe">|Yes|</span><span> M</span><span class="token text" style="color:#ce9178">[Execute One Task]</span><span>
</span><span>    M </span><span class="token" style="color:#569cd6">--></span><span> H
</span><span>    L </span><span class="token" style="color:#569cd6">--></span><span class="token label" style="color:#9cdcfe">|No|</span><span> H
</span><span>    D </span><span class="token" style="color:#569cd6">--></span><span> B
</span>    
<span>    </span><span class="token" style="color:#569cd6">style</span><span> B </span><span class="token style" style="color:#9cdcfe">fill</span><span class="token style" style="color:#d4d4d4">:</span><span class="token style">#e1f5fe</span><span>
</span><span>    </span><span class="token" style="color:#569cd6">style</span><span> E </span><span class="token style" style="color:#9cdcfe">fill</span><span class="token style" style="color:#d4d4d4">:</span><span class="token style">#f3e5f5</span><span>
</span><span>    </span><span class="token" style="color:#569cd6">style</span><span> F </span><span class="token style" style="color:#9cdcfe">fill</span><span class="token style" style="color:#d4d4d4">:</span><span class="token style">#fff3e0</span><span>
</span><span>    </span><span class="token" style="color:#569cd6">style</span><span> G </span><span class="token style" style="color:#9cdcfe">fill</span><span class="token style" style="color:#d4d4d4">:</span><span class="token style">#e8f5e8&lt;/code>&lt;/pre></span></code></div></details></pre><h3 id="components-of-the-event-loop">Components of the Event Loop</h3><p>Understanding the event loop requires knowing its key components:</p><ol><li><strong>Call Stack:</strong> This is where JavaScript keeps track of function calls. When a script calls a function, it's added (pushed) to the top of the call stack. When the function finishes executing, it's removed (popped) from the stack. JavaScript executes only one function at a time – the one at the top of the stack.</li><li><strong>Web APIs (Browser APIs / Node.js APIs):</strong> Asynchronous operations (like <code>setTimeout</code>, DOM events, <code>fetch</code> requests) are not handled by the JavaScript engine directly. Instead, they are passed to the relevant Web API provided by the browser (or equivalent APIs in Node.js). These APIs run on separate threads from the main JavaScript thread.</li><li><strong>Task Queue (Callback Queue / Macrotask Queue):</strong> When a Web API finishes its work (e.g., a timer expires, data is fetched), the callback function associated with that operation is not immediately executed. Instead, it's placed in the Task Queue (also known as the Callback Queue or Macrotask Queue). These tasks are processed one at a time, but only when the Call Stack is empty.</li><li><strong>Microtask Queue:</strong> This queue has a higher priority than the Task Queue. Callbacks for Promises (<code>.then()</code>, <code>.catch()</code>, <code>.finally()</code>) and <code>MutationObserver</code> are added to the Microtask Queue. Microtasks are executed after the currently executing script finishes and an opportunity is given for UI rendering, but <em>before</em> any task from the Task Queue is processed. All microtasks in the queue are executed before the event loop picks the next task from the Task Queue.</li><li><strong>Event Loop:</strong> This is a continuous process that monitors the Call Stack and the Task/Microtask Queues. Its job is to:<ul><li>Execute synchronous code found in the Call Stack.</li><li>Once the Call Stack is empty, check the Microtask Queue. If there are microtasks, execute them all, one by one, until the Microtask Queue is empty. (New microtasks queued during this process are also executed before moving on).</li><li>After the Microtask Queue is empty, the Event Loop checks the <strong>Task Queue</strong>. If there's a task, the oldest one is moved to the Call Stack and executed.</li><li>Repeat this cycle.</li></ul></li></ol><h3 id="how-it-works">How It Works</h3><p>Here's a simplified view of the process:</p><ol><li>Synchronous code is executed line by line and pushed onto the <strong>Call Stack</strong>.</li><li>When an asynchronous operation (like <code>setTimeout</code>, <code>fetch</code>) is encountered, it's handed off to the browser's <strong>Web API</strong>. The JavaScript engine doesn't wait for it; it continues executing the rest of the synchronous code.</li><li>Once the Web API finishes its task (e.g., timer expires, data arrives), it pushes the associated callback function into the <strong>Task Queue</strong> (or <strong>Microtask Queue</strong> for promises).</li><li>The <strong>Event Loop</strong> continuously checks if the Call Stack is empty.</li><li>If the Call Stack is empty, the Event Loop first checks the <strong>Microtask Queue</strong>. All available microtasks are moved one by one to the Call Stack and executed until the Microtask Queue is empty.</li><li>Only after the Microtask Queue is empty, the Event Loop checks the <strong>Task Queue</strong>. If there's a task, the oldest one is moved to the Call Stack and executed.</li></ol><p>This mechanism ensures that the main thread is not blocked by long-running asynchronous operations, allowing the UI to remain responsive.</p><h2 id="classic-example-of-execution-order">Classic Example of Execution Order</h2><p>The event loop follows a strict order:</p><ol><li>Execute all synchronous tasks on the call stack.</li><li>Process all microtasks in the microtask queue.</li><li>Process the first task in the macrotask queue.</li><li>Repeat.</li></ol><pre><h3 class="Article__CondingLang">js:</h3><div style='color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo,Monaco,Consolas,"Andale Mono","Ubuntu Mono","Courier New",monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;tab-size:4;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e'><code class="language-javascript" style='white-space:pre;color:#9cdcfe;font-size:13px;text-shadow:none;font-family:Menlo,Monaco,Consolas,"Andale Mono","Ubuntu Mono","Courier New",monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;tab-size:4;hyphens:none'><span class="token" style="color:#4ec9b0">console</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">log</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">'1. Script start'</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span></span><span class="token" style="color:#dcdcaa">setTimeout</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#569cd6">function</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>  </span><span class="token" style="color:#4ec9b0">console</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">log</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">'5. setTimeout callback (Task Queue)'</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#b5cea8">0</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span></span><span class="token known-class-name" style="color:#4ec9b0">Promise</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">resolve</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">then</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#569cd6">function</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>  </span><span class="token" style="color:#4ec9b0">console</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">log</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">'3. Promise.resolve().then (Microtask Queue)'</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">then</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#569cd6">function</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>  </span><span class="token" style="color:#4ec9b0">console</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">log</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">'4. Chained Promise.then (Microtask Queue)'</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span></span><span class="token" style="color:#4ec9b0">console</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">log</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">'2. Script end'</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span></span><span class="token" style="color:#6a9955">// Output:</span><span>
</span><span></span><span class="token" style="color:#6a9955">// 1. Script start</span><span>
</span><span></span><span class="token" style="color:#6a9955">// 2. Script end</span><span>
</span><span></span><span class="token" style="color:#6a9955">// 3. Promise.resolve().then (Microtask Queue)</span><span>
</span><span></span><span class="token" style="color:#6a9955">// 4. Chained Promise.then (Microtask Queue)</span><span>
</span><span></span><span class="token" style="color:#6a9955">// 5. setTimeout callback (Task Queue)</span></code></div></pre><p>This example clearly demonstrates the order of execution: synchronous code first, then all microtasks, then tasks from the callback queue.</p><h2 id="event-loop-analogy-the-restaurant">Event Loop Analogy: The Restaurant</h2><p>Imagine you're at a restaurant:</p><ol><li><strong>The Chef (Call Stack):</strong> Prepares one order at a time. If a dish takes long to cook, the chef moves it to a separate station (like an oven with a timer - a Web API) and starts on the next order.</li><li><strong>The Waiter (Putting tasks in Queues):</strong> The waiter keeps an eye on all pending tasks. When a dish in the oven is ready (Web API finishes), the waiter doesn't interrupt the chef. Instead, they place a note for the chef (the callback function) in an "orders ready" tray (Task Queue or Microtask Queue).</li><li><strong>The Manager (Event Loop):</strong> The manager ensures the chef only works on one task from the Call Stack at a time. When the chef is free (Call Stack is empty), the manager first checks for any urgent notes (Microtask Queue). If there are any, the chef handles all of them. Then, the manager gives the chef the next "order ready" note from the regular tray (Task Queue). This keeps the workflow smooth and ensures urgent tasks are prioritized.</li></ol><h2 id="event-loop-analogy-baking-cookies">Event Loop Analogy: Baking Cookies</h2><p>Another way to visualize this is by imagining you're baking cookies, and you can only do one thing at a time:</p><ol><li><strong>Your To-Do List (Call Stack):</strong> You follow your recipe step-by-step (e.g., mix dough, pour milk). Each step is a task on your to-do list.</li><li><strong>Simple, Quick Tasks (Synchronous Code):</strong> Mixing dough or pouring milk are quick and done immediately.</li><li><strong>Waiting Tasks (Asynchronous Code & Web APIs):</strong> When you put cookies in the oven, you set a timer (like <code>setTimeout</code>). You don't just stand there. The oven (a Web API) handles the baking in the background.</li><li><strong>The "Timer Dings!" (Callback in Queue):</strong> When the timer dings, it's like the Web API has finished. The task "take cookies out" (the callback function) is now ready. It gets added to a list of "things to do when I'm free" (Task Queue).</li><li><strong>Your Kitchen Helper (Event Loop):</strong> This helper constantly checks if you're done with your current immediate task (Call Stack empty).<ul><li>First, they check for any "super urgent small notes" you left yourself, like "quickly wipe counter" (Microtask Queue). You do all of these first.</li><li>Then, if you're free, the helper hands you the next "thing to do when I'm free" from your list, like "take cookies out" (Task Queue). This way, you're always busy doing something productive and not just waiting for the cookies to bake.</li></ul></li></ol><h2 id="so-no-real-threads-in-main-javascript">So, No Real Threads in Main JavaScript?</h2><p>For the main script and UI interactions, JavaScript operates on a single thread. The "concurrency" achieved through <code>async/await</code>, Promises, and callbacks is cooperative multitasking managed by the Event Loop, not true parallelism. Operations handled by Web APIs might run on separate threads provided by the browser, but your JavaScript code interacting with their results still runs on the main thread via the event loop.</p><p>This is where <strong>Web Workers</strong> come in.</p><h2 id="web-workers-true-parallelism-in-the-browser">Web Workers: True Parallelism in the Browser</h2><p>Web Workers provide a way to run JavaScript in background threads, separate from the main execution thread that handles the UI. This allows you to perform computationally intensive tasks without freezing the user interface.</p><p><img alt="SequenceDiagram diagram" src="/api/articles/dark/async-event-loop-web-workers-1.svg"></p><pre><details><summary>Show Mermaid Code</summary><div style='color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo,Monaco,Consolas,"Andale Mono","Ubuntu Mono","Courier New",monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;tab-size:4;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e'><code class="language-mermaid" style='white-space:pre;color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo,Monaco,Consolas,"Andale Mono","Ubuntu Mono","Courier New",monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;tab-size:4;hyphens:none'><span>    </span><span class="token" style="color:#569cd6">participant</span><span> Main as Main Thread
</span><span>    </span><span class="token" style="color:#569cd6">participant</span><span> Worker as Web Worker
</span><span>    </span><span class="token" style="color:#569cd6">participant</span><span> UI as User Interface
</span>    
<span>    Main</span><span class="token" style="color:#569cd6">->></span><span>Worker</span><span class="token" style="color:#d4d4d4">:</span><span> postMessage</span><span class="token text" style="color:#ce9178">(data)</span><span>
</span><span>    </span><span class="token" style="color:#569cd6">Note over</span><span> Main</span><span class="token" style="color:#d4d4d4">:</span><span> Main thread continues
</span><span>    Main</span><span class="token" style="color:#569cd6">->></span><span>UI</span><span class="token" style="color:#d4d4d4">:</span><span> Update UI </span><span class="token text" style="color:#ce9178">(non-blocking)</span><span>
</span>    
<span>    </span><span class="token" style="color:#569cd6">Note over</span><span> Worker</span><span class="token" style="color:#d4d4d4">:</span><span> Heavy computation
</span><span>    Worker</span><span class="token" style="color:#569cd6">->></span><span>Worker</span><span class="token" style="color:#d4d4d4">:</span><span> Process data
</span><span>    Worker</span><span class="token" style="color:#569cd6">->></span><span>Worker</span><span class="token" style="color:#d4d4d4">:</span><span> Complex calculations
</span>    
<span>    Worker</span><span class="token" style="color:#569cd6">->></span><span>Main</span><span class="token" style="color:#d4d4d4">:</span><span> postMessage</span><span class="token text" style="color:#ce9178">(result)</span><span>
</span><span>    Main</span><span class="token" style="color:#569cd6">->></span><span>UI</span><span class="token" style="color:#d4d4d4">:</span><span> Update with results
</span>    
<span>    </span><span class="token" style="color:#569cd6">Note over</span><span> Main,UI</span><span class="token" style="color:#d4d4d4">:</span><span> UI remains responsive throughout&lt;/code</span><span class="token text" style="color:#ce9178">>&lt;/pre></span></code></div></details></pre><h3 id="key-characteristics-of-web-workers">Key Characteristics of Web Workers</h3><ul><li><strong>Separate Threads:</strong> Workers run in their own global context, distinct from the <code>window</code> object of the main page.</li><li><strong>No DOM Access:</strong> Workers cannot directly manipulate the DOM. This is a crucial safety measure to prevent race conditions and complex UI state management issues.</li><li><strong>Communication via Messaging:</strong> The main thread and workers communicate by sending messages using the <code>postMessage()</code> method and receiving them via the <code>onmessage</code> event handler. Data is copied (not shared) between threads, with <code>Transferable Objects</code> being an exception for performance.</li><li><strong>Independent Execution:</strong> A worker can perform tasks like complex calculations, data processing, or I/O operations without affecting the responsiveness of the main page.</li><li><strong>Limitations:</strong> Workers have access to a subset of JavaScript features. For example, they can use <code>XMLHttpRequest</code> for network requests, <code>setTimeout</code>/<code>setInterval</code>, and other non-UI related APIs. They don't have access to <code>alert</code>, <code>confirm</code>, or direct DOM manipulation.</li></ul><h3 id="creating-and-using-a-web-worker">Creating and Using a Web Worker</h3><p><strong>1. <code>main.js</code> (Main Thread Script):</strong></p><pre><h3 class="Article__CondingLang">js:</h3><div style='color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo,Monaco,Consolas,"Andale Mono","Ubuntu Mono","Courier New",monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;tab-size:4;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e'><code class="language-javascript" style='white-space:pre;color:#9cdcfe;font-size:13px;text-shadow:none;font-family:Menlo,Monaco,Consolas,"Andale Mono","Ubuntu Mono","Courier New",monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;tab-size:4;hyphens:none'><span class="token" style="color:#6a9955">// main.js</span><span>
</span><span></span><span class="token" style="color:#c586c0">if</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span class="token dom" style="color:#9cdcfe">window</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access" style="color:#4ec9b0">Worker</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>  </span><span class="token" style="color:#4ec9b0">console</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">log</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">"Main: Creating worker..."</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>  </span><span class="token" style="color:#569cd6">const</span><span> myWorker </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#569cd6">new</span><span> </span><span class="token" style="color:#4ec9b0">Worker</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">"worker.js"</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span> </span><span class="token" style="color:#6a9955">// Path to the worker script</span><span>
</span>
<span>  </span><span class="token" style="color:#6a9955">// Sending a message to the worker</span><span>
</span><span>  myWorker</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">postMessage</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">{</span><span> </span><span class="token literal-property" style="color:#9cdcfe">command</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">"startCalculation"</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token literal-property" style="color:#9cdcfe">data</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#b5cea8">1000000000</span><span> </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>  </span><span class="token" style="color:#4ec9b0">console</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">log</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">"Main: Message posted to worker"</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span>  </span><span class="token" style="color:#6a9955">// Receiving messages from the worker</span><span>
</span><span>  myWorker</span><span class="token" style="color:#d4d4d4">.</span><span class="token method-variable function-variable method property-access" style="color:#dcdcaa">onmessage</span><span> </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#569cd6">function</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#9cdcfe">event</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>    </span><span class="token" style="color:#4ec9b0">console</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">log</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">"Main: Message received from worker:"</span><span class="token" style="color:#d4d4d4">,</span><span> event</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">data</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>    </span><span class="token" style="color:#c586c0">if</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span>event</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">data</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">result</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>      </span><span class="token" style="color:#dcdcaa">alert</span><span class="token" style="color:#d4d4d4">(</span><span class="token template-string template-punctuation" style="color:#ce9178">`</span><span class="token template-string" style="color:#ce9178">Calculation result: </span><span class="token template-string" style="color:#569cd6">${</span><span class="token template-string" style="color:#9cdcfe">event</span><span class="token template-string" style="color:#d4d4d4">.</span><span class="token template-string property-access" style="color:#9cdcfe">data</span><span class="token template-string" style="color:#d4d4d4">.</span><span class="token template-string property-access" style="color:#9cdcfe">result</span><span class="token template-string" style="color:#569cd6">}</span><span class="token template-string template-punctuation" style="color:#ce9178">`</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>    </span><span class="token" style="color:#d4d4d4">}</span><span>
</span><span>  </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span>  </span><span class="token" style="color:#6a9955">// Handling errors from the worker</span><span>
</span><span>  myWorker</span><span class="token" style="color:#d4d4d4">.</span><span class="token method-variable function-variable method property-access" style="color:#dcdcaa">onerror</span><span> </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#569cd6">function</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#9cdcfe">error</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>    </span><span class="token" style="color:#4ec9b0">console</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">error</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">"Main: Error from worker:"</span><span class="token" style="color:#d4d4d4">,</span><span> error</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">message</span><span class="token" style="color:#d4d4d4">,</span><span> error</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>  </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span>  </span><span class="token" style="color:#6a9955">// Terminating a worker (if needed)</span><span>
</span><span>  </span><span class="token" style="color:#6a9955">// myWorker.terminate();</span><span>
</span>
<span></span><span class="token" style="color:#d4d4d4">}</span><span> </span><span class="token" style="color:#c586c0">else</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>  </span><span class="token" style="color:#4ec9b0">console</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">log</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">"Your browser doesn't support Web Workers."</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">}</span><span>
</span>
<span></span><span class="token" style="color:#4ec9b0">console</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">log</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">"Main: Script end"</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span></code></div></pre><p><strong>2. <code>worker.js</code> (Worker Script):</strong></p><pre><h3 class="Article__CondingLang">js:</h3><div style='color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo,Monaco,Consolas,"Andale Mono","Ubuntu Mono","Courier New",monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;tab-size:4;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e'><code class="language-javascript" style='white-space:pre;color:#9cdcfe;font-size:13px;text-shadow:none;font-family:Menlo,Monaco,Consolas,"Andale Mono","Ubuntu Mono","Courier New",monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;tab-size:4;hyphens:none'><span class="token" style="color:#6a9955">// worker.js</span><span>
</span><span></span><span class="token" style="color:#4ec9b0">console</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">log</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">"Worker: Script started"</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span>self</span><span class="token" style="color:#d4d4d4">.</span><span class="token method-variable function-variable method property-access" style="color:#dcdcaa">onmessage</span><span> </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#569cd6">function</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#9cdcfe">event</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>  </span><span class="token" style="color:#4ec9b0">console</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">log</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">"Worker: Message received from main script:"</span><span class="token" style="color:#d4d4d4">,</span><span> event</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">data</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span>  </span><span class="token" style="color:#569cd6">const</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span> command</span><span class="token" style="color:#d4d4d4">,</span><span> data </span><span class="token" style="color:#d4d4d4">}</span><span> </span><span class="token" style="color:#d4d4d4">=</span><span> event</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">data</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span>  </span><span class="token" style="color:#c586c0">if</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span>command </span><span class="token" style="color:#d4d4d4">===</span><span> </span><span class="token" style="color:#ce9178">"startCalculation"</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>    </span><span class="token" style="color:#569cd6">let</span><span> result </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#b5cea8">0</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>    </span><span class="token" style="color:#c586c0">for</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#569cd6">let</span><span> i </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#b5cea8">0</span><span class="token" style="color:#d4d4d4">;</span><span> i </span><span class="token" style="color:#d4d4d4">&lt;</span><span> data</span><span class="token" style="color:#d4d4d4">;</span><span> i</span><span class="token" style="color:#d4d4d4">++</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>      result </span><span class="token" style="color:#d4d4d4">+=</span><span> </span><span class="token known-class-name" style="color:#4ec9b0">Math</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">sqrt</span><span class="token" style="color:#d4d4d4">(</span><span>i</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#d4d4d4">*</span><span> </span><span class="token known-class-name" style="color:#4ec9b0">Math</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">sin</span><span class="token" style="color:#d4d4d4">(</span><span>i</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span> </span><span class="token" style="color:#6a9955">// Some dummy heavy calculation</span><span>
</span><span>    </span><span class="token" style="color:#d4d4d4">}</span><span>
</span><span>    </span><span class="token" style="color:#4ec9b0">console</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">log</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">"Worker: Calculation finished"</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>    </span><span class="token" style="color:#6a9955">// Sending the result back to the main thread</span><span>
</span><span>    self</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">postMessage</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">{</span><span> </span><span class="token literal-property" style="color:#9cdcfe">result</span><span class="token" style="color:#d4d4d4">:</span><span> result</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token literal-property" style="color:#9cdcfe">status</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">"completed"</span><span> </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>  </span><span class="token" style="color:#d4d4d4">}</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span></span><span class="token" style="color:#6a9955">// Workers can also have their own error handling</span><span>
</span><span>self</span><span class="token" style="color:#d4d4d4">.</span><span class="token method-variable function-variable method property-access" style="color:#dcdcaa">onerror</span><span> </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#569cd6">function</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#9cdcfe">error</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>    </span><span class="token" style="color:#4ec9b0">console</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">error</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">"Worker: Error caught in worker:"</span><span class="token" style="color:#d4d4d4">,</span><span> error</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>    </span><span class="token" style="color:#6a9955">// Optionally, inform the main thread</span><span>
</span><span>    </span><span class="token" style="color:#6a9955">// self.postMessage({ error: error.message });</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span></span><span class="token" style="color:#4ec9b0">console</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">log</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">"Worker: Event listener set up"</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span></code></div></pre><p><strong>To run this example:</strong></p><ol><li>Save the above code into <code>main.js</code> and <code>worker.js</code> in the same directory.</li><li>Create an <code>index.html</code> file that includes <code>main.js</code>:<pre><code class="language-html">&lt;!DOCTYPE html>
&lt;html>
&lt;head>
    &lt;title>Web Worker Demo&lt;/title>
&lt;/head>
&lt;body>
    &lt;h1>Web Worker Demo&lt;/h1>
    &lt;p>Check the console for messages. An alert will show the result of the calculation from the worker.&lt;/p>
    &lt;script src="main.js">&lt;/script>
&lt;/body>
&lt;/html>
</code></pre></li><li>Open <code>index.html</code> in your browser and check the console.</li></ol><p>You'll observe that "Main: Script end" logs before the worker finishes its calculation and sends back the result, demonstrating non-blocking behavior. The UI (if there were more interactive elements) would remain responsive during the worker's heavy computation.</p><h3 id="when-to-use-web-workers">When to Use Web Workers</h3><ul><li><strong>CPU-Intensive Tasks:</strong> Image processing, video/audio manipulation, complex mathematical calculations, data encryption/decryption.</li><li><strong>Large Data Processing:</strong> Sorting, filtering, or analyzing large datasets without freezing the UI.</li><li><strong>Background Syncing:</strong> Keeping local data synchronized with a server.</li><li><strong>Prefetching Data:</strong> Loading data in the background that the user might need soon.</li></ul><h3 id="limitations-and-considerations">Limitations and Considerations</h3><ul><li><strong>Overhead:</strong> Creating workers has some overhead. They are not ideal for very small, quick tasks.</li><li><strong>Data Transfer:</strong> Data passed between the main thread and workers via <code>postMessage()</code> is copied, which can be slow for very large data structures. <code>Transferable Objects</code> (like <code>ArrayBuffer</code>) can mitigate this by transferring ownership, but require careful handling.</li><li><strong>Complexity:</strong> Managing communication and state between multiple threads can add complexity to your application.</li><li><strong>Debugging:</strong> Debugging workers can sometimes be trickier than debugging single-threaded code, though browser developer tools have improved significantly in this area.</li></ul><h2 id="additional-examples-of-event-loop-behavior">Additional Examples of Event Loop Behavior</h2><pre><h3 class="Article__CondingLang">js:</h3><div style='color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo,Monaco,Consolas,"Andale Mono","Ubuntu Mono","Courier New",monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;tab-size:4;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e'><code class="language-javascript" style='white-space:pre;color:#9cdcfe;font-size:13px;text-shadow:none;font-family:Menlo,Monaco,Consolas,"Andale Mono","Ubuntu Mono","Courier New",monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;tab-size:4;hyphens:none'><span class="token" style="color:#4ec9b0">console</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">log</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">'Start'</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span></span><span class="token" style="color:#dcdcaa">setTimeout</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569cd6">=></span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>  </span><span class="token" style="color:#4ec9b0">console</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">log</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">'Timeout 1'</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>  </span><span class="token known-class-name" style="color:#4ec9b0">Promise</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">resolve</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">then</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569cd6">=></span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>    </span><span class="token" style="color:#4ec9b0">console</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">log</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">'Promise 1'</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>  </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">then</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569cd6">=></span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>    </span><span class="token" style="color:#4ec9b0">console</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">log</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">'Promise 2'</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>  </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#b5cea8">0</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span></span><span class="token known-class-name" style="color:#4ec9b0">Promise</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">resolve</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">then</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569cd6">=></span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>  </span><span class="token" style="color:#4ec9b0">console</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">log</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">'Promise 3'</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>  </span><span class="token" style="color:#dcdcaa">setTimeout</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569cd6">=></span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>    </span><span class="token" style="color:#4ec9b0">console</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">log</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">'Timeout 2'</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>  </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#b5cea8">0</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>  </span><span class="token" style="color:#c586c0">return</span><span> </span><span class="token known-class-name" style="color:#4ec9b0">Promise</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">resolve</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">then</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569cd6">=></span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>  </span><span class="token" style="color:#4ec9b0">console</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">log</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">'Promise 4'</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span></span><span class="token" style="color:#4ec9b0">console</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">log</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">'End'</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span></span><span class="token" style="color:#6a9955">// Output:</span><span>
</span><span></span><span class="token" style="color:#6a9955">// Start</span><span>
</span><span></span><span class="token" style="color:#6a9955">// End</span><span>
</span><span></span><span class="token" style="color:#6a9955">// Promise 3</span><span>
</span><span></span><span class="token" style="color:#6a9955">// Promise 4</span><span>
</span><span></span><span class="token" style="color:#6a9955">// Timeout 1</span><span>
</span><span></span><span class="token" style="color:#6a9955">// Promise 1</span><span>
</span><span></span><span class="token" style="color:#6a9955">// Promise 2</span><span>
</span><span></span><span class="token" style="color:#6a9955">// Timeout 2</span></code></div></pre><h2 id="agent-clusters-and-memory-sharing">Agent Clusters and Memory Sharing</h2><p>JavaScript's execution model includes the concept of "agent clusters" - groups of agents (like main thread, workers, etc.) that can share memory with each other. This is particularly relevant when working with SharedArrayBuffer and Atomics API for concurrent memory access.</p><p>The browser ensures that agent clusters maintain consistency and prevent issues like deadlocks by enforcing rules about agent activation and termination.</p><h2 id="job-queues-in-detail">Job Queues in Detail</h2><p>While we've discussed the Task (Macrotask) and Microtask queues, it's worth noting that the JavaScript execution model, as defined by specifications like ECMAScript and HTML, describes "Job Queues" more broadly.</p><ul><li><strong>Script Jobs:</strong> These are for the initial execution of a script.</li><li><strong>Promise Reaction Jobs (Microtasks):</strong> These handle the reactions to fulfilled or rejected Promises (e.g., callbacks passed to <code>.then()</code>, <code>.catch()</code>, <code>.finally()</code>). These are processed in the Microtask Queue.</li><li><strong>Other Task Queues (Macrotasks):</strong> Browsers manage various task queues for different types of tasks, such as timers (<code>setTimeout</code>, <code>setInterval</code>), UI events (clicks, mouse movements), I/O operations, etc. The event loop selects one task from one of these queues (implementation-dependent, but often FIFO within a specific queue).</li></ul><p>The crucial distinction remains the priority: Microtasks (Promise Reaction Jobs) are always processed to completion after the current synchronous script block finishes and before the next Macrotask is picked from any of the other task queues.</p><h2 id="conclusion">Conclusion</h2><p>Understanding asynchronous JavaScript, the Event Loop, and Web Workers is crucial for building high-performance, responsive web applications.</p><ul><li><strong>Asynchronous patterns</strong> (Callbacks, Promises, Async/Await) with the <strong>Event Loop</strong> allow JavaScript to handle multiple operations without blocking the main thread, creating an illusion of concurrency.</li><li><strong>Web Workers</strong> provide true parallelism by enabling background JavaScript execution on separate threads, perfect for offloading heavy computations and keeping the UI smooth.</li></ul><p>By mastering these concepts, you can unlock the full potential of JavaScript and deliver a superior user experience. Remember to choose the right tool for the job: use asynchronous patterns for I/O-bound tasks and general non-blocking behavior, and leverage Web Workers when you have CPU-bound tasks that could otherwise degrade UI performance.</p><h2 id="event-loop-analogy">Event Loop Analogy</h2><p>Imagine you're at a restaurant:</p><ol><li><strong>The Chef (Call Stack):</strong> Prepares one order at a time. If a dish takes long to cook, the chef moves it to a separate station and starts on the next order.</li><li><strong>The Waiter (Event Queue):</strong> Keeps an eye on pending tasks and brings them back to the chef once they're ready.</li><li><strong>The Manager (Event Loop):</strong> Ensures the chef only works on one task at a time and keeps the workflow smooth.</li></ol><h2 id="additional-examples">Additional Examples</h2><pre><h3 class="Article__CondingLang">js:</h3><div style='color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo,Monaco,Consolas,"Andale Mono","Ubuntu Mono","Courier New",monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;tab-size:4;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e'><code class="language-javascript" style='white-space:pre;color:#9cdcfe;font-size:13px;text-shadow:none;font-family:Menlo,Monaco,Consolas,"Andale Mono","Ubuntu Mono","Courier New",monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;tab-size:4;hyphens:none'><span class="token" style="color:#4ec9b0">console</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">log</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">'Start'</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span></span><span class="token" style="color:#dcdcaa">setTimeout</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569cd6">=></span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>  </span><span class="token" style="color:#4ec9b0">console</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">log</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">'Timeout 1'</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>  </span><span class="token known-class-name" style="color:#4ec9b0">Promise</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">resolve</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">then</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569cd6">=></span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>    </span><span class="token" style="color:#4ec9b0">console</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">log</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">'Promise 1'</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>  </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">then</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569cd6">=></span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>    </span><span class="token" style="color:#4ec9b0">console</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">log</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">'Promise 2'</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>  </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#b5cea8">0</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span></span><span class="token known-class-name" style="color:#4ec9b0">Promise</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">resolve</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">then</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569cd6">=></span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>  </span><span class="token" style="color:#4ec9b0">console</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">log</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">'Promise 3'</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>  </span><span class="token" style="color:#dcdcaa">setTimeout</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569cd6">=></span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>    </span><span class="token" style="color:#4ec9b0">console</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">log</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">'Timeout 2'</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>  </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#b5cea8">0</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>  </span><span class="token" style="color:#c586c0">return</span><span> </span><span class="token known-class-name" style="color:#4ec9b0">Promise</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">resolve</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">then</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569cd6">=></span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>  </span><span class="token" style="color:#4ec9b0">console</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">log</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">'Promise 4'</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span></span><span class="token" style="color:#4ec9b0">console</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">log</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">'End'</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span></span><span class="token" style="color:#6a9955">// Output:</span><span>
</span><span></span><span class="token" style="color:#6a9955">// Start</span><span>
</span><span></span><span class="token" style="color:#6a9955">// End</span><span>
</span><span></span><span class="token" style="color:#6a9955">// Promise 3</span><span>
</span><span></span><span class="token" style="color:#6a9955">// Promise 4</span><span>
</span><span></span><span class="token" style="color:#6a9955">// Timeout 1</span><span>
</span><span></span><span class="token" style="color:#6a9955">// Promise 1</span><span>
</span><span></span><span class="token" style="color:#6a9955">// Promise 2</span><span>
</span><span></span><span class="token" style="color:#6a9955">// Timeout 2</span></code></div></pre><h2 id="agent-clusters-and-memory-sharing">Agent Clusters and Memory Sharing</h2><p>JavaScript's execution model includes the concept of "agent clusters" - groups of agents (like main thread, workers, etc.) that can share memory with each other. This is particularly relevant when working with SharedArrayBuffer and Atomics API for concurrent memory access.</p><p>The browser ensures that agent clusters maintain consistency and prevent issues like deadlocks by enforcing rules about agent activation and termination.</p></div></div></div></div><footer class="Footer">The API for this site <a href="https://github.com/shapkarin/shapkarin.me/tree/master/src/Generate-Backend" target="_blank" rel="noreferrer">is generated</a><svg fill="none" height="1em" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" x2="21" y1="14" y2="3"></line></svg> and stored as <a href="https://github.com/shapkarin/shapkarin.me/tree/gh-@/Pages/api" target="_blank" rel="noreferrer">JSON and Markdown</a><svg fill="none" height="1em" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" x2="21" y1="14" y2="3"></line></svg> on GitHub Pages.<br>It <a href="https://github.com/shapkarin/shapkarin.me/blob/main/.github/workflows/build-deploy.yml" target="_blank" rel="noreferrer">uses Github Actions<svg fill="none" height="1em" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" x2="21" y1="14" y2="3"></line></svg></a>to help with CI and generates a static version.</footer></div><canvas height="850" id="background" width="480"></canvas></body></html>